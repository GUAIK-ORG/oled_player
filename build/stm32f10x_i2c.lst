ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"stm32f10x_i2c.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.I2C_DeInit,"ax",%progbits
  18              		.align	1
  19              		.global	I2C_DeInit
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	I2C_DeInit:
  25              	.LVL0:
  26              	.LFB29:
  27              		.file 1 "LIB/src/stm32f10x_i2c.c"
   1:LIB/src/stm32f10x_i2c.c **** /**
   2:LIB/src/stm32f10x_i2c.c ****   ******************************************************************************
   3:LIB/src/stm32f10x_i2c.c ****   * @file    stm32f10x_i2c.c
   4:LIB/src/stm32f10x_i2c.c ****   * @author  MCD Application Team
   5:LIB/src/stm32f10x_i2c.c ****   * @version V3.5.0
   6:LIB/src/stm32f10x_i2c.c ****   * @date    11-March-2011
   7:LIB/src/stm32f10x_i2c.c ****   * @brief   This file provides all the I2C firmware functions.
   8:LIB/src/stm32f10x_i2c.c ****   ******************************************************************************
   9:LIB/src/stm32f10x_i2c.c ****   * @attention
  10:LIB/src/stm32f10x_i2c.c ****   *
  11:LIB/src/stm32f10x_i2c.c ****   * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
  12:LIB/src/stm32f10x_i2c.c ****   * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
  13:LIB/src/stm32f10x_i2c.c ****   * TIME. AS A RESULT, STMICROELECTRONICS SHALL NOT BE HELD LIABLE FOR ANY
  14:LIB/src/stm32f10x_i2c.c ****   * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
  15:LIB/src/stm32f10x_i2c.c ****   * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
  16:LIB/src/stm32f10x_i2c.c ****   * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
  17:LIB/src/stm32f10x_i2c.c ****   *
  18:LIB/src/stm32f10x_i2c.c ****   * <h2><center>&copy; COPYRIGHT 2011 STMicroelectronics</center></h2>
  19:LIB/src/stm32f10x_i2c.c ****   ******************************************************************************
  20:LIB/src/stm32f10x_i2c.c ****   */
  21:LIB/src/stm32f10x_i2c.c **** 
  22:LIB/src/stm32f10x_i2c.c **** /* Includes ------------------------------------------------------------------*/
  23:LIB/src/stm32f10x_i2c.c **** #include "stm32f10x_i2c.h"
  24:LIB/src/stm32f10x_i2c.c **** #include "stm32f10x_rcc.h"
  25:LIB/src/stm32f10x_i2c.c **** 
  26:LIB/src/stm32f10x_i2c.c **** 
  27:LIB/src/stm32f10x_i2c.c **** /** @addtogroup STM32F10x_StdPeriph_Driver
  28:LIB/src/stm32f10x_i2c.c ****   * @{
  29:LIB/src/stm32f10x_i2c.c ****   */
  30:LIB/src/stm32f10x_i2c.c **** 
  31:LIB/src/stm32f10x_i2c.c **** /** @defgroup I2C 
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 2


  32:LIB/src/stm32f10x_i2c.c ****   * @brief I2C driver modules
  33:LIB/src/stm32f10x_i2c.c ****   * @{
  34:LIB/src/stm32f10x_i2c.c ****   */ 
  35:LIB/src/stm32f10x_i2c.c **** 
  36:LIB/src/stm32f10x_i2c.c **** /** @defgroup I2C_Private_TypesDefinitions
  37:LIB/src/stm32f10x_i2c.c ****   * @{
  38:LIB/src/stm32f10x_i2c.c ****   */
  39:LIB/src/stm32f10x_i2c.c **** 
  40:LIB/src/stm32f10x_i2c.c **** /**
  41:LIB/src/stm32f10x_i2c.c ****   * @}
  42:LIB/src/stm32f10x_i2c.c ****   */
  43:LIB/src/stm32f10x_i2c.c **** 
  44:LIB/src/stm32f10x_i2c.c **** /** @defgroup I2C_Private_Defines
  45:LIB/src/stm32f10x_i2c.c ****   * @{
  46:LIB/src/stm32f10x_i2c.c ****   */
  47:LIB/src/stm32f10x_i2c.c **** 
  48:LIB/src/stm32f10x_i2c.c **** /* I2C SPE mask */
  49:LIB/src/stm32f10x_i2c.c **** #define CR1_PE_Set              ((uint16_t)0x0001)
  50:LIB/src/stm32f10x_i2c.c **** #define CR1_PE_Reset            ((uint16_t)0xFFFE)
  51:LIB/src/stm32f10x_i2c.c **** 
  52:LIB/src/stm32f10x_i2c.c **** /* I2C START mask */
  53:LIB/src/stm32f10x_i2c.c **** #define CR1_START_Set           ((uint16_t)0x0100)
  54:LIB/src/stm32f10x_i2c.c **** #define CR1_START_Reset         ((uint16_t)0xFEFF)
  55:LIB/src/stm32f10x_i2c.c **** 
  56:LIB/src/stm32f10x_i2c.c **** /* I2C STOP mask */
  57:LIB/src/stm32f10x_i2c.c **** #define CR1_STOP_Set            ((uint16_t)0x0200)
  58:LIB/src/stm32f10x_i2c.c **** #define CR1_STOP_Reset          ((uint16_t)0xFDFF)
  59:LIB/src/stm32f10x_i2c.c **** 
  60:LIB/src/stm32f10x_i2c.c **** /* I2C ACK mask */
  61:LIB/src/stm32f10x_i2c.c **** #define CR1_ACK_Set             ((uint16_t)0x0400)
  62:LIB/src/stm32f10x_i2c.c **** #define CR1_ACK_Reset           ((uint16_t)0xFBFF)
  63:LIB/src/stm32f10x_i2c.c **** 
  64:LIB/src/stm32f10x_i2c.c **** /* I2C ENGC mask */
  65:LIB/src/stm32f10x_i2c.c **** #define CR1_ENGC_Set            ((uint16_t)0x0040)
  66:LIB/src/stm32f10x_i2c.c **** #define CR1_ENGC_Reset          ((uint16_t)0xFFBF)
  67:LIB/src/stm32f10x_i2c.c **** 
  68:LIB/src/stm32f10x_i2c.c **** /* I2C SWRST mask */
  69:LIB/src/stm32f10x_i2c.c **** #define CR1_SWRST_Set           ((uint16_t)0x8000)
  70:LIB/src/stm32f10x_i2c.c **** #define CR1_SWRST_Reset         ((uint16_t)0x7FFF)
  71:LIB/src/stm32f10x_i2c.c **** 
  72:LIB/src/stm32f10x_i2c.c **** /* I2C PEC mask */
  73:LIB/src/stm32f10x_i2c.c **** #define CR1_PEC_Set             ((uint16_t)0x1000)
  74:LIB/src/stm32f10x_i2c.c **** #define CR1_PEC_Reset           ((uint16_t)0xEFFF)
  75:LIB/src/stm32f10x_i2c.c **** 
  76:LIB/src/stm32f10x_i2c.c **** /* I2C ENPEC mask */
  77:LIB/src/stm32f10x_i2c.c **** #define CR1_ENPEC_Set           ((uint16_t)0x0020)
  78:LIB/src/stm32f10x_i2c.c **** #define CR1_ENPEC_Reset         ((uint16_t)0xFFDF)
  79:LIB/src/stm32f10x_i2c.c **** 
  80:LIB/src/stm32f10x_i2c.c **** /* I2C ENARP mask */
  81:LIB/src/stm32f10x_i2c.c **** #define CR1_ENARP_Set           ((uint16_t)0x0010)
  82:LIB/src/stm32f10x_i2c.c **** #define CR1_ENARP_Reset         ((uint16_t)0xFFEF)
  83:LIB/src/stm32f10x_i2c.c **** 
  84:LIB/src/stm32f10x_i2c.c **** /* I2C NOSTRETCH mask */
  85:LIB/src/stm32f10x_i2c.c **** #define CR1_NOSTRETCH_Set       ((uint16_t)0x0080)
  86:LIB/src/stm32f10x_i2c.c **** #define CR1_NOSTRETCH_Reset     ((uint16_t)0xFF7F)
  87:LIB/src/stm32f10x_i2c.c **** 
  88:LIB/src/stm32f10x_i2c.c **** /* I2C registers Masks */
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 3


  89:LIB/src/stm32f10x_i2c.c **** #define CR1_CLEAR_Mask          ((uint16_t)0xFBF5)
  90:LIB/src/stm32f10x_i2c.c **** 
  91:LIB/src/stm32f10x_i2c.c **** /* I2C DMAEN mask */
  92:LIB/src/stm32f10x_i2c.c **** #define CR2_DMAEN_Set           ((uint16_t)0x0800)
  93:LIB/src/stm32f10x_i2c.c **** #define CR2_DMAEN_Reset         ((uint16_t)0xF7FF)
  94:LIB/src/stm32f10x_i2c.c **** 
  95:LIB/src/stm32f10x_i2c.c **** /* I2C LAST mask */
  96:LIB/src/stm32f10x_i2c.c **** #define CR2_LAST_Set            ((uint16_t)0x1000)
  97:LIB/src/stm32f10x_i2c.c **** #define CR2_LAST_Reset          ((uint16_t)0xEFFF)
  98:LIB/src/stm32f10x_i2c.c **** 
  99:LIB/src/stm32f10x_i2c.c **** /* I2C FREQ mask */
 100:LIB/src/stm32f10x_i2c.c **** #define CR2_FREQ_Reset          ((uint16_t)0xFFC0)
 101:LIB/src/stm32f10x_i2c.c **** 
 102:LIB/src/stm32f10x_i2c.c **** /* I2C ADD0 mask */
 103:LIB/src/stm32f10x_i2c.c **** #define OAR1_ADD0_Set           ((uint16_t)0x0001)
 104:LIB/src/stm32f10x_i2c.c **** #define OAR1_ADD0_Reset         ((uint16_t)0xFFFE)
 105:LIB/src/stm32f10x_i2c.c **** 
 106:LIB/src/stm32f10x_i2c.c **** /* I2C ENDUAL mask */
 107:LIB/src/stm32f10x_i2c.c **** #define OAR2_ENDUAL_Set         ((uint16_t)0x0001)
 108:LIB/src/stm32f10x_i2c.c **** #define OAR2_ENDUAL_Reset       ((uint16_t)0xFFFE)
 109:LIB/src/stm32f10x_i2c.c **** 
 110:LIB/src/stm32f10x_i2c.c **** /* I2C ADD2 mask */
 111:LIB/src/stm32f10x_i2c.c **** #define OAR2_ADD2_Reset         ((uint16_t)0xFF01)
 112:LIB/src/stm32f10x_i2c.c **** 
 113:LIB/src/stm32f10x_i2c.c **** /* I2C F/S mask */
 114:LIB/src/stm32f10x_i2c.c **** #define CCR_FS_Set              ((uint16_t)0x8000)
 115:LIB/src/stm32f10x_i2c.c **** 
 116:LIB/src/stm32f10x_i2c.c **** /* I2C CCR mask */
 117:LIB/src/stm32f10x_i2c.c **** #define CCR_CCR_Set             ((uint16_t)0x0FFF)
 118:LIB/src/stm32f10x_i2c.c **** 
 119:LIB/src/stm32f10x_i2c.c **** /* I2C FLAG mask */
 120:LIB/src/stm32f10x_i2c.c **** #define FLAG_Mask               ((uint32_t)0x00FFFFFF)
 121:LIB/src/stm32f10x_i2c.c **** 
 122:LIB/src/stm32f10x_i2c.c **** /* I2C Interrupt Enable mask */
 123:LIB/src/stm32f10x_i2c.c **** #define ITEN_Mask               ((uint32_t)0x07000000)
 124:LIB/src/stm32f10x_i2c.c **** 
 125:LIB/src/stm32f10x_i2c.c **** /**
 126:LIB/src/stm32f10x_i2c.c ****   * @}
 127:LIB/src/stm32f10x_i2c.c ****   */
 128:LIB/src/stm32f10x_i2c.c **** 
 129:LIB/src/stm32f10x_i2c.c **** /** @defgroup I2C_Private_Macros
 130:LIB/src/stm32f10x_i2c.c ****   * @{
 131:LIB/src/stm32f10x_i2c.c ****   */
 132:LIB/src/stm32f10x_i2c.c **** 
 133:LIB/src/stm32f10x_i2c.c **** /**
 134:LIB/src/stm32f10x_i2c.c ****   * @}
 135:LIB/src/stm32f10x_i2c.c ****   */
 136:LIB/src/stm32f10x_i2c.c **** 
 137:LIB/src/stm32f10x_i2c.c **** /** @defgroup I2C_Private_Variables
 138:LIB/src/stm32f10x_i2c.c ****   * @{
 139:LIB/src/stm32f10x_i2c.c ****   */
 140:LIB/src/stm32f10x_i2c.c **** 
 141:LIB/src/stm32f10x_i2c.c **** /**
 142:LIB/src/stm32f10x_i2c.c ****   * @}
 143:LIB/src/stm32f10x_i2c.c ****   */
 144:LIB/src/stm32f10x_i2c.c **** 
 145:LIB/src/stm32f10x_i2c.c **** /** @defgroup I2C_Private_FunctionPrototypes
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 4


 146:LIB/src/stm32f10x_i2c.c ****   * @{
 147:LIB/src/stm32f10x_i2c.c ****   */
 148:LIB/src/stm32f10x_i2c.c **** 
 149:LIB/src/stm32f10x_i2c.c **** /**
 150:LIB/src/stm32f10x_i2c.c ****   * @}
 151:LIB/src/stm32f10x_i2c.c ****   */
 152:LIB/src/stm32f10x_i2c.c **** 
 153:LIB/src/stm32f10x_i2c.c **** /** @defgroup I2C_Private_Functions
 154:LIB/src/stm32f10x_i2c.c ****   * @{
 155:LIB/src/stm32f10x_i2c.c ****   */
 156:LIB/src/stm32f10x_i2c.c **** 
 157:LIB/src/stm32f10x_i2c.c **** /**
 158:LIB/src/stm32f10x_i2c.c ****   * @brief  Deinitializes the I2Cx peripheral registers to their default reset values.
 159:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 160:LIB/src/stm32f10x_i2c.c ****   * @retval None
 161:LIB/src/stm32f10x_i2c.c ****   */
 162:LIB/src/stm32f10x_i2c.c **** void I2C_DeInit(I2C_TypeDef* I2Cx)
 163:LIB/src/stm32f10x_i2c.c **** {
  28              		.loc 1 163 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 163 1 is_stmt 0 view .LVU1
  33 0000 08B5     		push	{r3, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 3, -8
  37              		.cfi_offset 14, -4
 164:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
 165:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
  38              		.loc 1 165 3 is_stmt 1 view .LVU2
 166:LIB/src/stm32f10x_i2c.c **** 
 167:LIB/src/stm32f10x_i2c.c ****   if (I2Cx == I2C1)
  39              		.loc 1 167 3 view .LVU3
  40              		.loc 1 167 6 is_stmt 0 view .LVU4
  41 0002 0C4B     		ldr	r3, .L6
  42 0004 9842     		cmp	r0, r3
  43 0006 0AD0     		beq	.L5
 168:LIB/src/stm32f10x_i2c.c ****   {
 169:LIB/src/stm32f10x_i2c.c ****     /* Enable I2C1 reset state */
 170:LIB/src/stm32f10x_i2c.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_I2C1, ENABLE);
 171:LIB/src/stm32f10x_i2c.c ****     /* Release I2C1 from reset state */
 172:LIB/src/stm32f10x_i2c.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_I2C1, DISABLE);
 173:LIB/src/stm32f10x_i2c.c ****   }
 174:LIB/src/stm32f10x_i2c.c ****   else
 175:LIB/src/stm32f10x_i2c.c ****   {
 176:LIB/src/stm32f10x_i2c.c ****     /* Enable I2C2 reset state */
 177:LIB/src/stm32f10x_i2c.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_I2C2, ENABLE);
  44              		.loc 1 177 5 is_stmt 1 view .LVU5
  45 0008 0121     		movs	r1, #1
  46 000a 4FF48000 		mov	r0, #4194304
  47              	.LVL1:
  48              		.loc 1 177 5 is_stmt 0 view .LVU6
  49 000e FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  50              	.LVL2:
 178:LIB/src/stm32f10x_i2c.c ****     /* Release I2C2 from reset state */
 179:LIB/src/stm32f10x_i2c.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_I2C2, DISABLE);
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 5


  51              		.loc 1 179 5 is_stmt 1 view .LVU7
  52 0012 0021     		movs	r1, #0
  53 0014 4FF48000 		mov	r0, #4194304
  54 0018 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  55              	.LVL3:
  56              	.L1:
 180:LIB/src/stm32f10x_i2c.c ****   }
 181:LIB/src/stm32f10x_i2c.c **** }
  57              		.loc 1 181 1 is_stmt 0 view .LVU8
  58 001c 08BD     		pop	{r3, pc}
  59              	.LVL4:
  60              	.L5:
 170:LIB/src/stm32f10x_i2c.c ****     /* Release I2C1 from reset state */
  61              		.loc 1 170 5 is_stmt 1 view .LVU9
  62 001e 0121     		movs	r1, #1
  63 0020 4FF40010 		mov	r0, #2097152
  64              	.LVL5:
 170:LIB/src/stm32f10x_i2c.c ****     /* Release I2C1 from reset state */
  65              		.loc 1 170 5 is_stmt 0 view .LVU10
  66 0024 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  67              	.LVL6:
 172:LIB/src/stm32f10x_i2c.c ****   }
  68              		.loc 1 172 5 is_stmt 1 view .LVU11
  69 0028 0021     		movs	r1, #0
  70 002a 4FF40010 		mov	r0, #2097152
  71 002e FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  72              	.LVL7:
  73 0032 F3E7     		b	.L1
  74              	.L7:
  75              		.align	2
  76              	.L6:
  77 0034 00540040 		.word	1073763328
  78              		.cfi_endproc
  79              	.LFE29:
  81              		.section	.text.I2C_Init,"ax",%progbits
  82              		.align	1
  83              		.global	I2C_Init
  84              		.syntax unified
  85              		.thumb
  86              		.thumb_func
  88              	I2C_Init:
  89              	.LVL8:
  90              	.LFB30:
 182:LIB/src/stm32f10x_i2c.c **** 
 183:LIB/src/stm32f10x_i2c.c **** /**
 184:LIB/src/stm32f10x_i2c.c ****   * @brief  Initializes the I2Cx peripheral according to the specified 
 185:LIB/src/stm32f10x_i2c.c ****   *   parameters in the I2C_InitStruct.
 186:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 187:LIB/src/stm32f10x_i2c.c ****   * @param  I2C_InitStruct: pointer to a I2C_InitTypeDef structure that
 188:LIB/src/stm32f10x_i2c.c ****   *   contains the configuration information for the specified I2C peripheral.
 189:LIB/src/stm32f10x_i2c.c ****   * @retval None
 190:LIB/src/stm32f10x_i2c.c ****   */
 191:LIB/src/stm32f10x_i2c.c **** void I2C_Init(I2C_TypeDef* I2Cx, I2C_InitTypeDef* I2C_InitStruct)
 192:LIB/src/stm32f10x_i2c.c **** {
  91              		.loc 1 192 1 view -0
  92              		.cfi_startproc
  93              		@ args = 0, pretend = 0, frame = 24
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 6


  94              		@ frame_needed = 0, uses_anonymous_args = 0
  95              		.loc 1 192 1 is_stmt 0 view .LVU13
  96 0000 70B5     		push	{r4, r5, r6, lr}
  97              	.LCFI1:
  98              		.cfi_def_cfa_offset 16
  99              		.cfi_offset 4, -16
 100              		.cfi_offset 5, -12
 101              		.cfi_offset 6, -8
 102              		.cfi_offset 14, -4
 103 0002 86B0     		sub	sp, sp, #24
 104              	.LCFI2:
 105              		.cfi_def_cfa_offset 40
 106 0004 0446     		mov	r4, r0
 107 0006 0D46     		mov	r5, r1
 193:LIB/src/stm32f10x_i2c.c ****   uint16_t tmpreg = 0, freqrange = 0;
 108              		.loc 1 193 3 is_stmt 1 view .LVU14
 109              	.LVL9:
 194:LIB/src/stm32f10x_i2c.c ****   uint16_t result = 0x04;
 110              		.loc 1 194 3 view .LVU15
 195:LIB/src/stm32f10x_i2c.c ****   uint32_t pclk1 = 8000000;
 111              		.loc 1 195 3 view .LVU16
 196:LIB/src/stm32f10x_i2c.c ****   RCC_ClocksTypeDef  rcc_clocks;
 112              		.loc 1 196 3 view .LVU17
 197:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
 198:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 113              		.loc 1 198 3 view .LVU18
 199:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_CLOCK_SPEED(I2C_InitStruct->I2C_ClockSpeed));
 114              		.loc 1 199 3 view .LVU19
 200:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_MODE(I2C_InitStruct->I2C_Mode));
 115              		.loc 1 200 3 view .LVU20
 201:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_DUTY_CYCLE(I2C_InitStruct->I2C_DutyCycle));
 116              		.loc 1 201 3 view .LVU21
 202:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_OWN_ADDRESS1(I2C_InitStruct->I2C_OwnAddress1));
 117              		.loc 1 202 3 view .LVU22
 203:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ACK_STATE(I2C_InitStruct->I2C_Ack));
 118              		.loc 1 203 3 view .LVU23
 204:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ACKNOWLEDGE_ADDRESS(I2C_InitStruct->I2C_AcknowledgedAddress));
 119              		.loc 1 204 3 view .LVU24
 205:LIB/src/stm32f10x_i2c.c **** 
 206:LIB/src/stm32f10x_i2c.c **** /*---------------------------- I2Cx CR2 Configuration ------------------------*/
 207:LIB/src/stm32f10x_i2c.c ****   /* Get the I2Cx CR2 value */
 208:LIB/src/stm32f10x_i2c.c ****   tmpreg = I2Cx->CR2;
 120              		.loc 1 208 3 view .LVU25
 121              		.loc 1 208 10 is_stmt 0 view .LVU26
 122 0008 8688     		ldrh	r6, [r0, #4]
 123 000a B6B2     		uxth	r6, r6
 124              	.LVL10:
 209:LIB/src/stm32f10x_i2c.c ****   /* Clear frequency FREQ[5:0] bits */
 210:LIB/src/stm32f10x_i2c.c ****   tmpreg &= CR2_FREQ_Reset;
 125              		.loc 1 210 3 is_stmt 1 view .LVU27
 126              		.loc 1 210 10 is_stmt 0 view .LVU28
 127 000c 26F03F06 		bic	r6, r6, #63
 128              	.LVL11:
 129              		.loc 1 210 10 view .LVU29
 130 0010 B6B2     		uxth	r6, r6
 131              	.LVL12:
 211:LIB/src/stm32f10x_i2c.c ****   /* Get pclk1 frequency value */
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 7


 212:LIB/src/stm32f10x_i2c.c ****   RCC_GetClocksFreq(&rcc_clocks);
 132              		.loc 1 212 3 is_stmt 1 view .LVU30
 133 0012 01A8     		add	r0, sp, #4
 134              	.LVL13:
 135              		.loc 1 212 3 is_stmt 0 view .LVU31
 136 0014 FFF7FEFF 		bl	RCC_GetClocksFreq
 137              	.LVL14:
 213:LIB/src/stm32f10x_i2c.c ****   pclk1 = rcc_clocks.PCLK1_Frequency;
 138              		.loc 1 213 3 is_stmt 1 view .LVU32
 139              		.loc 1 213 9 is_stmt 0 view .LVU33
 140 0018 0398     		ldr	r0, [sp, #12]
 141              	.LVL15:
 214:LIB/src/stm32f10x_i2c.c ****   /* Set frequency bits depending on pclk1 value */
 215:LIB/src/stm32f10x_i2c.c ****   freqrange = (uint16_t)(pclk1 / 1000000);
 142              		.loc 1 215 3 is_stmt 1 view .LVU34
 143              		.loc 1 215 32 is_stmt 0 view .LVU35
 144 001a 2D4B     		ldr	r3, .L18
 145 001c A3FB0023 		umull	r2, r3, r3, r0
 146 0020 990C     		lsrs	r1, r3, #18
 147              	.LVL16:
 216:LIB/src/stm32f10x_i2c.c ****   tmpreg |= freqrange;
 148              		.loc 1 216 3 is_stmt 1 view .LVU36
 149              		.loc 1 216 10 is_stmt 0 view .LVU37
 150 0022 46EA9346 		orr	r6, r6, r3, lsr #18
 151              	.LVL17:
 217:LIB/src/stm32f10x_i2c.c ****   /* Write to I2Cx CR2 */
 218:LIB/src/stm32f10x_i2c.c ****   I2Cx->CR2 = tmpreg;
 152              		.loc 1 218 3 is_stmt 1 view .LVU38
 153              		.loc 1 218 13 is_stmt 0 view .LVU39
 154 0026 A680     		strh	r6, [r4, #4]	@ movhi
 219:LIB/src/stm32f10x_i2c.c **** 
 220:LIB/src/stm32f10x_i2c.c **** /*---------------------------- I2Cx CCR Configuration ------------------------*/
 221:LIB/src/stm32f10x_i2c.c ****   /* Disable the selected I2C peripheral to configure TRISE */
 222:LIB/src/stm32f10x_i2c.c ****   I2Cx->CR1 &= CR1_PE_Reset;
 155              		.loc 1 222 3 is_stmt 1 view .LVU40
 156              		.loc 1 222 13 is_stmt 0 view .LVU41
 157 0028 2288     		ldrh	r2, [r4]
 158 002a 92B2     		uxth	r2, r2
 159 002c 22F00102 		bic	r2, r2, #1
 160 0030 92B2     		uxth	r2, r2
 161 0032 2280     		strh	r2, [r4]	@ movhi
 223:LIB/src/stm32f10x_i2c.c ****   /* Reset tmpreg value */
 224:LIB/src/stm32f10x_i2c.c ****   /* Clear F/S, DUTY and CCR[11:0] bits */
 225:LIB/src/stm32f10x_i2c.c ****   tmpreg = 0;
 162              		.loc 1 225 3 is_stmt 1 view .LVU42
 163              	.LVL18:
 226:LIB/src/stm32f10x_i2c.c **** 
 227:LIB/src/stm32f10x_i2c.c ****   /* Configure speed in standard mode */
 228:LIB/src/stm32f10x_i2c.c ****   if (I2C_InitStruct->I2C_ClockSpeed <= 100000)
 164              		.loc 1 228 3 view .LVU43
 165              		.loc 1 228 21 is_stmt 0 view .LVU44
 166 0034 2B68     		ldr	r3, [r5]
 167              		.loc 1 228 6 view .LVU45
 168 0036 274A     		ldr	r2, .L18+4
 169 0038 9342     		cmp	r3, r2
 170 003a 22D8     		bhi	.L9
 171 003c 8C46     		mov	ip, r1
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 8


 229:LIB/src/stm32f10x_i2c.c ****   {
 230:LIB/src/stm32f10x_i2c.c ****     /* Standard mode speed calculate */
 231:LIB/src/stm32f10x_i2c.c ****     result = (uint16_t)(pclk1 / (I2C_InitStruct->I2C_ClockSpeed << 1));
 172              		.loc 1 231 5 is_stmt 1 view .LVU46
 173              		.loc 1 231 65 is_stmt 0 view .LVU47
 174 003e 5B00     		lsls	r3, r3, #1
 175              		.loc 1 231 31 view .LVU48
 176 0040 B0FBF3F3 		udiv	r3, r0, r3
 177              		.loc 1 231 12 view .LVU49
 178 0044 9BB2     		uxth	r3, r3
 179              	.LVL19:
 232:LIB/src/stm32f10x_i2c.c ****     /* Test if CCR value is under 0x4*/
 233:LIB/src/stm32f10x_i2c.c ****     if (result < 0x04)
 180              		.loc 1 233 5 is_stmt 1 view .LVU50
 181              		.loc 1 233 8 is_stmt 0 view .LVU51
 182 0046 032B     		cmp	r3, #3
 183 0048 00D8     		bhi	.L10
 234:LIB/src/stm32f10x_i2c.c ****     {
 235:LIB/src/stm32f10x_i2c.c ****       /* Set minimum allowed value */
 236:LIB/src/stm32f10x_i2c.c ****       result = 0x04;  
 184              		.loc 1 236 14 view .LVU52
 185 004a 0423     		movs	r3, #4
 186              	.LVL20:
 187              	.L10:
 237:LIB/src/stm32f10x_i2c.c ****     }
 238:LIB/src/stm32f10x_i2c.c ****     /* Set speed value for standard mode */
 239:LIB/src/stm32f10x_i2c.c ****     tmpreg |= result;	  
 188              		.loc 1 239 5 is_stmt 1 view .LVU53
 240:LIB/src/stm32f10x_i2c.c ****     /* Set Maximum Rise Time for standard mode */
 241:LIB/src/stm32f10x_i2c.c ****     I2Cx->TRISE = freqrange + 1; 
 189              		.loc 1 241 5 view .LVU54
 190              		.loc 1 241 29 is_stmt 0 view .LVU55
 191 004c 0CF1010C 		add	ip, ip, #1
 192              		.loc 1 241 17 view .LVU56
 193 0050 A4F820C0 		strh	ip, [r4, #32]	@ movhi
 194              	.LVL21:
 195              	.L11:
 242:LIB/src/stm32f10x_i2c.c ****   }
 243:LIB/src/stm32f10x_i2c.c ****   /* Configure speed in fast mode */
 244:LIB/src/stm32f10x_i2c.c ****   else /*(I2C_InitStruct->I2C_ClockSpeed <= 400000)*/
 245:LIB/src/stm32f10x_i2c.c ****   {
 246:LIB/src/stm32f10x_i2c.c ****     if (I2C_InitStruct->I2C_DutyCycle == I2C_DutyCycle_2)
 247:LIB/src/stm32f10x_i2c.c ****     {
 248:LIB/src/stm32f10x_i2c.c ****       /* Fast mode speed calculate: Tlow/Thigh = 2 */
 249:LIB/src/stm32f10x_i2c.c ****       result = (uint16_t)(pclk1 / (I2C_InitStruct->I2C_ClockSpeed * 3));
 250:LIB/src/stm32f10x_i2c.c ****     }
 251:LIB/src/stm32f10x_i2c.c ****     else /*I2C_InitStruct->I2C_DutyCycle == I2C_DutyCycle_16_9*/
 252:LIB/src/stm32f10x_i2c.c ****     {
 253:LIB/src/stm32f10x_i2c.c ****       /* Fast mode speed calculate: Tlow/Thigh = 16/9 */
 254:LIB/src/stm32f10x_i2c.c ****       result = (uint16_t)(pclk1 / (I2C_InitStruct->I2C_ClockSpeed * 25));
 255:LIB/src/stm32f10x_i2c.c ****       /* Set DUTY bit */
 256:LIB/src/stm32f10x_i2c.c ****       result |= I2C_DutyCycle_16_9;
 257:LIB/src/stm32f10x_i2c.c ****     }
 258:LIB/src/stm32f10x_i2c.c **** 
 259:LIB/src/stm32f10x_i2c.c ****     /* Test if CCR value is under 0x1*/
 260:LIB/src/stm32f10x_i2c.c ****     if ((result & CCR_CCR_Set) == 0)
 261:LIB/src/stm32f10x_i2c.c ****     {
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 9


 262:LIB/src/stm32f10x_i2c.c ****       /* Set minimum allowed value */
 263:LIB/src/stm32f10x_i2c.c ****       result |= (uint16_t)0x0001;  
 264:LIB/src/stm32f10x_i2c.c ****     }
 265:LIB/src/stm32f10x_i2c.c ****     /* Set speed value and set F/S bit for fast mode */
 266:LIB/src/stm32f10x_i2c.c ****     tmpreg |= (uint16_t)(result | CCR_FS_Set);
 267:LIB/src/stm32f10x_i2c.c ****     /* Set Maximum Rise Time for fast mode */
 268:LIB/src/stm32f10x_i2c.c ****     I2Cx->TRISE = (uint16_t)(((freqrange * (uint16_t)300) / (uint16_t)1000) + (uint16_t)1);  
 269:LIB/src/stm32f10x_i2c.c ****   }
 270:LIB/src/stm32f10x_i2c.c **** 
 271:LIB/src/stm32f10x_i2c.c ****   /* Write to I2Cx CCR */
 272:LIB/src/stm32f10x_i2c.c ****   I2Cx->CCR = tmpreg;
 196              		.loc 1 272 3 is_stmt 1 view .LVU57
 197              		.loc 1 272 13 is_stmt 0 view .LVU58
 198 0054 A383     		strh	r3, [r4, #28]	@ movhi
 273:LIB/src/stm32f10x_i2c.c ****   /* Enable the selected I2C peripheral */
 274:LIB/src/stm32f10x_i2c.c ****   I2Cx->CR1 |= CR1_PE_Set;
 199              		.loc 1 274 3 is_stmt 1 view .LVU59
 200              		.loc 1 274 13 is_stmt 0 view .LVU60
 201 0056 2388     		ldrh	r3, [r4]
 202              	.LVL22:
 203              		.loc 1 274 13 view .LVU61
 204 0058 9BB2     		uxth	r3, r3
 205 005a 43F00103 		orr	r3, r3, #1
 206 005e 2380     		strh	r3, [r4]	@ movhi
 207              	.LVL23:
 275:LIB/src/stm32f10x_i2c.c **** 
 276:LIB/src/stm32f10x_i2c.c **** /*---------------------------- I2Cx CR1 Configuration ------------------------*/
 277:LIB/src/stm32f10x_i2c.c ****   /* Get the I2Cx CR1 value */
 278:LIB/src/stm32f10x_i2c.c ****   tmpreg = I2Cx->CR1;
 208              		.loc 1 278 3 is_stmt 1 view .LVU62
 209              		.loc 1 278 10 is_stmt 0 view .LVU63
 210 0060 2388     		ldrh	r3, [r4]
 211 0062 9BB2     		uxth	r3, r3
 212              	.LVL24:
 279:LIB/src/stm32f10x_i2c.c ****   /* Clear ACK, SMBTYPE and  SMBUS bits */
 280:LIB/src/stm32f10x_i2c.c ****   tmpreg &= CR1_CLEAR_Mask;
 213              		.loc 1 280 3 is_stmt 1 view .LVU64
 214              		.loc 1 280 10 is_stmt 0 view .LVU65
 215 0064 23F48163 		bic	r3, r3, #1032
 216              	.LVL25:
 217              		.loc 1 280 10 view .LVU66
 218 0068 23F00203 		bic	r3, r3, #2
 219              	.LVL26:
 281:LIB/src/stm32f10x_i2c.c ****   /* Configure I2Cx: mode and acknowledgement */
 282:LIB/src/stm32f10x_i2c.c ****   /* Set SMBTYPE and SMBUS bits according to I2C_Mode value */
 283:LIB/src/stm32f10x_i2c.c ****   /* Set ACK bit according to I2C_Ack value */
 284:LIB/src/stm32f10x_i2c.c ****   tmpreg |= (uint16_t)((uint32_t)I2C_InitStruct->I2C_Mode | I2C_InitStruct->I2C_Ack);
 220              		.loc 1 284 3 is_stmt 1 view .LVU67
 221              		.loc 1 284 48 is_stmt 0 view .LVU68
 222 006c AA88     		ldrh	r2, [r5, #4]
 223              		.loc 1 284 75 view .LVU69
 224 006e 6989     		ldrh	r1, [r5, #10]
 225              		.loc 1 284 13 view .LVU70
 226 0070 0A43     		orrs	r2, r2, r1
 227              		.loc 1 284 10 view .LVU71
 228 0072 1343     		orrs	r3, r3, r2
 229              	.LVL27:
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 10


 285:LIB/src/stm32f10x_i2c.c ****   /* Write to I2Cx CR1 */
 286:LIB/src/stm32f10x_i2c.c ****   I2Cx->CR1 = tmpreg;
 230              		.loc 1 286 3 is_stmt 1 view .LVU72
 231              		.loc 1 286 13 is_stmt 0 view .LVU73
 232 0074 2380     		strh	r3, [r4]	@ movhi
 287:LIB/src/stm32f10x_i2c.c **** 
 288:LIB/src/stm32f10x_i2c.c **** /*---------------------------- I2Cx OAR1 Configuration -----------------------*/
 289:LIB/src/stm32f10x_i2c.c ****   /* Set I2Cx Own Address1 and acknowledged address */
 290:LIB/src/stm32f10x_i2c.c ****   I2Cx->OAR1 = (I2C_InitStruct->I2C_AcknowledgedAddress | I2C_InitStruct->I2C_OwnAddress1);
 233              		.loc 1 290 3 is_stmt 1 view .LVU74
 234              		.loc 1 290 31 is_stmt 0 view .LVU75
 235 0076 AB89     		ldrh	r3, [r5, #12]
 236              	.LVL28:
 237              		.loc 1 290 73 view .LVU76
 238 0078 2A89     		ldrh	r2, [r5, #8]
 239              		.loc 1 290 14 view .LVU77
 240 007a 1343     		orrs	r3, r3, r2
 241 007c 2381     		strh	r3, [r4, #8]	@ movhi
 242              	.LVL29:
 291:LIB/src/stm32f10x_i2c.c **** }
 243              		.loc 1 291 1 view .LVU78
 244 007e 06B0     		add	sp, sp, #24
 245              	.LCFI3:
 246              		.cfi_remember_state
 247              		.cfi_def_cfa_offset 16
 248              		@ sp needed
 249 0080 70BD     		pop	{r4, r5, r6, pc}
 250              	.LVL30:
 251              	.L9:
 252              	.LCFI4:
 253              		.cfi_restore_state
 246:LIB/src/stm32f10x_i2c.c ****     {
 254              		.loc 1 246 5 is_stmt 1 view .LVU79
 246:LIB/src/stm32f10x_i2c.c ****     {
 255              		.loc 1 246 23 is_stmt 0 view .LVU80
 256 0082 EE88     		ldrh	r6, [r5, #6]
 246:LIB/src/stm32f10x_i2c.c ****     {
 257              		.loc 1 246 8 view .LVU81
 258 0084 4BF6FF72 		movw	r2, #49151
 259 0088 9642     		cmp	r6, r2
 260 008a 1BD0     		beq	.L17
 254:LIB/src/stm32f10x_i2c.c ****       /* Set DUTY bit */
 261              		.loc 1 254 7 is_stmt 1 view .LVU82
 254:LIB/src/stm32f10x_i2c.c ****       /* Set DUTY bit */
 262              		.loc 1 254 67 is_stmt 0 view .LVU83
 263 008c 03EB8303 		add	r3, r3, r3, lsl #2
 264 0090 03EB8303 		add	r3, r3, r3, lsl #2
 254:LIB/src/stm32f10x_i2c.c ****       /* Set DUTY bit */
 265              		.loc 1 254 33 view .LVU84
 266 0094 B0FBF3F3 		udiv	r3, r0, r3
 254:LIB/src/stm32f10x_i2c.c ****       /* Set DUTY bit */
 267              		.loc 1 254 14 view .LVU85
 268 0098 9BB2     		uxth	r3, r3
 269              	.LVL31:
 256:LIB/src/stm32f10x_i2c.c ****     }
 270              		.loc 1 256 7 is_stmt 1 view .LVU86
 256:LIB/src/stm32f10x_i2c.c ****     }
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 11


 271              		.loc 1 256 14 is_stmt 0 view .LVU87
 272 009a 43F48043 		orr	r3, r3, #16384
 273              	.LVL32:
 274              	.L13:
 260:LIB/src/stm32f10x_i2c.c ****     {
 275              		.loc 1 260 5 is_stmt 1 view .LVU88
 260:LIB/src/stm32f10x_i2c.c ****     {
 276              		.loc 1 260 8 is_stmt 0 view .LVU89
 277 009e C3F30B02 		ubfx	r2, r3, #0, #12
 278 00a2 0AB9     		cbnz	r2, .L14
 263:LIB/src/stm32f10x_i2c.c ****     }
 279              		.loc 1 263 7 is_stmt 1 view .LVU90
 263:LIB/src/stm32f10x_i2c.c ****     }
 280              		.loc 1 263 14 is_stmt 0 view .LVU91
 281 00a4 43F00103 		orr	r3, r3, #1
 282              	.LVL33:
 283              	.L14:
 266:LIB/src/stm32f10x_i2c.c ****     /* Set Maximum Rise Time for fast mode */
 284              		.loc 1 266 5 is_stmt 1 view .LVU92
 266:LIB/src/stm32f10x_i2c.c ****     /* Set Maximum Rise Time for fast mode */
 285              		.loc 1 266 12 is_stmt 0 view .LVU93
 286 00a8 43F40043 		orr	r3, r3, #32768
 287              	.LVL34:
 268:LIB/src/stm32f10x_i2c.c ****   }
 288              		.loc 1 268 5 is_stmt 1 view .LVU94
 268:LIB/src/stm32f10x_i2c.c ****   }
 289              		.loc 1 268 42 is_stmt 0 view .LVU95
 290 00ac 4FF49672 		mov	r2, #300
 291 00b0 01FB02F2 		mul	r2, r1, r2
 268:LIB/src/stm32f10x_i2c.c ****   }
 292              		.loc 1 268 59 view .LVU96
 293 00b4 0849     		ldr	r1, .L18+8
 294              	.LVL35:
 268:LIB/src/stm32f10x_i2c.c ****   }
 295              		.loc 1 268 59 view .LVU97
 296 00b6 81FB0212 		smull	r1, r2, r1, r2
 297 00ba 9211     		asrs	r2, r2, #6
 268:LIB/src/stm32f10x_i2c.c ****   }
 298              		.loc 1 268 19 view .LVU98
 299 00bc 0132     		adds	r2, r2, #1
 300 00be 92B2     		uxth	r2, r2
 268:LIB/src/stm32f10x_i2c.c ****   }
 301              		.loc 1 268 17 view .LVU99
 302 00c0 2284     		strh	r2, [r4, #32]	@ movhi
 303 00c2 C7E7     		b	.L11
 304              	.LVL36:
 305              	.L17:
 249:LIB/src/stm32f10x_i2c.c ****     }
 306              		.loc 1 249 7 is_stmt 1 view .LVU100
 249:LIB/src/stm32f10x_i2c.c ****     }
 307              		.loc 1 249 67 is_stmt 0 view .LVU101
 308 00c4 03EB4303 		add	r3, r3, r3, lsl #1
 249:LIB/src/stm32f10x_i2c.c ****     }
 309              		.loc 1 249 33 view .LVU102
 310 00c8 B0FBF3F3 		udiv	r3, r0, r3
 249:LIB/src/stm32f10x_i2c.c ****     }
 311              		.loc 1 249 14 view .LVU103
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 12


 312 00cc 9BB2     		uxth	r3, r3
 313              	.LVL37:
 249:LIB/src/stm32f10x_i2c.c ****     }
 314              		.loc 1 249 14 view .LVU104
 315 00ce E6E7     		b	.L13
 316              	.L19:
 317              		.align	2
 318              	.L18:
 319 00d0 83DE1B43 		.word	1125899907
 320 00d4 A0860100 		.word	100000
 321 00d8 D34D6210 		.word	274877907
 322              		.cfi_endproc
 323              	.LFE30:
 325              		.section	.text.I2C_StructInit,"ax",%progbits
 326              		.align	1
 327              		.global	I2C_StructInit
 328              		.syntax unified
 329              		.thumb
 330              		.thumb_func
 332              	I2C_StructInit:
 333              	.LVL38:
 334              	.LFB31:
 292:LIB/src/stm32f10x_i2c.c **** 
 293:LIB/src/stm32f10x_i2c.c **** /**
 294:LIB/src/stm32f10x_i2c.c ****   * @brief  Fills each I2C_InitStruct member with its default value.
 295:LIB/src/stm32f10x_i2c.c ****   * @param  I2C_InitStruct: pointer to an I2C_InitTypeDef structure which will be initialized.
 296:LIB/src/stm32f10x_i2c.c ****   * @retval None
 297:LIB/src/stm32f10x_i2c.c ****   */
 298:LIB/src/stm32f10x_i2c.c **** void I2C_StructInit(I2C_InitTypeDef* I2C_InitStruct)
 299:LIB/src/stm32f10x_i2c.c **** {
 335              		.loc 1 299 1 is_stmt 1 view -0
 336              		.cfi_startproc
 337              		@ args = 0, pretend = 0, frame = 0
 338              		@ frame_needed = 0, uses_anonymous_args = 0
 339              		@ link register save eliminated.
 300:LIB/src/stm32f10x_i2c.c **** /*---------------- Reset I2C init structure parameters values ----------------*/
 301:LIB/src/stm32f10x_i2c.c ****   /* initialize the I2C_ClockSpeed member */
 302:LIB/src/stm32f10x_i2c.c ****   I2C_InitStruct->I2C_ClockSpeed = 5000;
 340              		.loc 1 302 3 view .LVU106
 341              		.loc 1 302 34 is_stmt 0 view .LVU107
 342 0000 41F28833 		movw	r3, #5000
 343 0004 0360     		str	r3, [r0]
 303:LIB/src/stm32f10x_i2c.c ****   /* Initialize the I2C_Mode member */
 304:LIB/src/stm32f10x_i2c.c ****   I2C_InitStruct->I2C_Mode = I2C_Mode_I2C;
 344              		.loc 1 304 3 is_stmt 1 view .LVU108
 345              		.loc 1 304 28 is_stmt 0 view .LVU109
 346 0006 0023     		movs	r3, #0
 347 0008 8380     		strh	r3, [r0, #4]	@ movhi
 305:LIB/src/stm32f10x_i2c.c ****   /* Initialize the I2C_DutyCycle member */
 306:LIB/src/stm32f10x_i2c.c ****   I2C_InitStruct->I2C_DutyCycle = I2C_DutyCycle_2;
 348              		.loc 1 306 3 is_stmt 1 view .LVU110
 349              		.loc 1 306 33 is_stmt 0 view .LVU111
 350 000a 4BF6FF72 		movw	r2, #49151
 351 000e C280     		strh	r2, [r0, #6]	@ movhi
 307:LIB/src/stm32f10x_i2c.c ****   /* Initialize the I2C_OwnAddress1 member */
 308:LIB/src/stm32f10x_i2c.c ****   I2C_InitStruct->I2C_OwnAddress1 = 0;
 352              		.loc 1 308 3 is_stmt 1 view .LVU112
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 13


 353              		.loc 1 308 35 is_stmt 0 view .LVU113
 354 0010 0381     		strh	r3, [r0, #8]	@ movhi
 309:LIB/src/stm32f10x_i2c.c ****   /* Initialize the I2C_Ack member */
 310:LIB/src/stm32f10x_i2c.c ****   I2C_InitStruct->I2C_Ack = I2C_Ack_Disable;
 355              		.loc 1 310 3 is_stmt 1 view .LVU114
 356              		.loc 1 310 27 is_stmt 0 view .LVU115
 357 0012 4381     		strh	r3, [r0, #10]	@ movhi
 311:LIB/src/stm32f10x_i2c.c ****   /* Initialize the I2C_AcknowledgedAddress member */
 312:LIB/src/stm32f10x_i2c.c ****   I2C_InitStruct->I2C_AcknowledgedAddress = I2C_AcknowledgedAddress_7bit;
 358              		.loc 1 312 3 is_stmt 1 view .LVU116
 359              		.loc 1 312 43 is_stmt 0 view .LVU117
 360 0014 4FF48043 		mov	r3, #16384
 361 0018 8381     		strh	r3, [r0, #12]	@ movhi
 313:LIB/src/stm32f10x_i2c.c **** }
 362              		.loc 1 313 1 view .LVU118
 363 001a 7047     		bx	lr
 364              		.cfi_endproc
 365              	.LFE31:
 367              		.section	.text.I2C_Cmd,"ax",%progbits
 368              		.align	1
 369              		.global	I2C_Cmd
 370              		.syntax unified
 371              		.thumb
 372              		.thumb_func
 374              	I2C_Cmd:
 375              	.LVL39:
 376              	.LFB32:
 314:LIB/src/stm32f10x_i2c.c **** 
 315:LIB/src/stm32f10x_i2c.c **** /**
 316:LIB/src/stm32f10x_i2c.c ****   * @brief  Enables or disables the specified I2C peripheral.
 317:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 318:LIB/src/stm32f10x_i2c.c ****   * @param  NewState: new state of the I2Cx peripheral. 
 319:LIB/src/stm32f10x_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 320:LIB/src/stm32f10x_i2c.c ****   * @retval None
 321:LIB/src/stm32f10x_i2c.c ****   */
 322:LIB/src/stm32f10x_i2c.c **** void I2C_Cmd(I2C_TypeDef* I2Cx, FunctionalState NewState)
 323:LIB/src/stm32f10x_i2c.c **** {
 377              		.loc 1 323 1 is_stmt 1 view -0
 378              		.cfi_startproc
 379              		@ args = 0, pretend = 0, frame = 0
 380              		@ frame_needed = 0, uses_anonymous_args = 0
 381              		@ link register save eliminated.
 324:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
 325:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 382              		.loc 1 325 3 view .LVU120
 326:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 383              		.loc 1 326 3 view .LVU121
 327:LIB/src/stm32f10x_i2c.c ****   if (NewState != DISABLE)
 384              		.loc 1 327 3 view .LVU122
 385              		.loc 1 327 6 is_stmt 0 view .LVU123
 386 0000 29B1     		cbz	r1, .L22
 328:LIB/src/stm32f10x_i2c.c ****   {
 329:LIB/src/stm32f10x_i2c.c ****     /* Enable the selected I2C peripheral */
 330:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR1 |= CR1_PE_Set;
 387              		.loc 1 330 5 is_stmt 1 view .LVU124
 388              		.loc 1 330 15 is_stmt 0 view .LVU125
 389 0002 0388     		ldrh	r3, [r0]
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 14


 390 0004 9BB2     		uxth	r3, r3
 391 0006 43F00103 		orr	r3, r3, #1
 392 000a 0380     		strh	r3, [r0]	@ movhi
 393 000c 7047     		bx	lr
 394              	.L22:
 331:LIB/src/stm32f10x_i2c.c ****   }
 332:LIB/src/stm32f10x_i2c.c ****   else
 333:LIB/src/stm32f10x_i2c.c ****   {
 334:LIB/src/stm32f10x_i2c.c ****     /* Disable the selected I2C peripheral */
 335:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR1 &= CR1_PE_Reset;
 395              		.loc 1 335 5 is_stmt 1 view .LVU126
 396              		.loc 1 335 15 is_stmt 0 view .LVU127
 397 000e 0388     		ldrh	r3, [r0]
 398 0010 9BB2     		uxth	r3, r3
 399 0012 23F00103 		bic	r3, r3, #1
 400 0016 9BB2     		uxth	r3, r3
 401 0018 0380     		strh	r3, [r0]	@ movhi
 336:LIB/src/stm32f10x_i2c.c ****   }
 337:LIB/src/stm32f10x_i2c.c **** }
 402              		.loc 1 337 1 view .LVU128
 403 001a 7047     		bx	lr
 404              		.cfi_endproc
 405              	.LFE32:
 407              		.section	.text.I2C_DMACmd,"ax",%progbits
 408              		.align	1
 409              		.global	I2C_DMACmd
 410              		.syntax unified
 411              		.thumb
 412              		.thumb_func
 414              	I2C_DMACmd:
 415              	.LVL40:
 416              	.LFB33:
 338:LIB/src/stm32f10x_i2c.c **** 
 339:LIB/src/stm32f10x_i2c.c **** /**
 340:LIB/src/stm32f10x_i2c.c ****   * @brief  Enables or disables the specified I2C DMA requests.
 341:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 342:LIB/src/stm32f10x_i2c.c ****   * @param  NewState: new state of the I2C DMA transfer.
 343:LIB/src/stm32f10x_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 344:LIB/src/stm32f10x_i2c.c ****   * @retval None
 345:LIB/src/stm32f10x_i2c.c ****   */
 346:LIB/src/stm32f10x_i2c.c **** void I2C_DMACmd(I2C_TypeDef* I2Cx, FunctionalState NewState)
 347:LIB/src/stm32f10x_i2c.c **** {
 417              		.loc 1 347 1 is_stmt 1 view -0
 418              		.cfi_startproc
 419              		@ args = 0, pretend = 0, frame = 0
 420              		@ frame_needed = 0, uses_anonymous_args = 0
 421              		@ link register save eliminated.
 348:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
 349:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 422              		.loc 1 349 3 view .LVU130
 350:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 423              		.loc 1 350 3 view .LVU131
 351:LIB/src/stm32f10x_i2c.c ****   if (NewState != DISABLE)
 424              		.loc 1 351 3 view .LVU132
 425              		.loc 1 351 6 is_stmt 0 view .LVU133
 426 0000 29B1     		cbz	r1, .L25
 352:LIB/src/stm32f10x_i2c.c ****   {
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 15


 353:LIB/src/stm32f10x_i2c.c ****     /* Enable the selected I2C DMA requests */
 354:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR2 |= CR2_DMAEN_Set;
 427              		.loc 1 354 5 is_stmt 1 view .LVU134
 428              		.loc 1 354 15 is_stmt 0 view .LVU135
 429 0002 8388     		ldrh	r3, [r0, #4]
 430 0004 9BB2     		uxth	r3, r3
 431 0006 43F40063 		orr	r3, r3, #2048
 432 000a 8380     		strh	r3, [r0, #4]	@ movhi
 433 000c 7047     		bx	lr
 434              	.L25:
 355:LIB/src/stm32f10x_i2c.c ****   }
 356:LIB/src/stm32f10x_i2c.c ****   else
 357:LIB/src/stm32f10x_i2c.c ****   {
 358:LIB/src/stm32f10x_i2c.c ****     /* Disable the selected I2C DMA requests */
 359:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR2 &= CR2_DMAEN_Reset;
 435              		.loc 1 359 5 is_stmt 1 view .LVU136
 436              		.loc 1 359 15 is_stmt 0 view .LVU137
 437 000e 8388     		ldrh	r3, [r0, #4]
 438 0010 9BB2     		uxth	r3, r3
 439 0012 23F40063 		bic	r3, r3, #2048
 440 0016 9BB2     		uxth	r3, r3
 441 0018 8380     		strh	r3, [r0, #4]	@ movhi
 360:LIB/src/stm32f10x_i2c.c ****   }
 361:LIB/src/stm32f10x_i2c.c **** }
 442              		.loc 1 361 1 view .LVU138
 443 001a 7047     		bx	lr
 444              		.cfi_endproc
 445              	.LFE33:
 447              		.section	.text.I2C_DMALastTransferCmd,"ax",%progbits
 448              		.align	1
 449              		.global	I2C_DMALastTransferCmd
 450              		.syntax unified
 451              		.thumb
 452              		.thumb_func
 454              	I2C_DMALastTransferCmd:
 455              	.LVL41:
 456              	.LFB34:
 362:LIB/src/stm32f10x_i2c.c **** 
 363:LIB/src/stm32f10x_i2c.c **** /**
 364:LIB/src/stm32f10x_i2c.c ****   * @brief  Specifies if the next DMA transfer will be the last one.
 365:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 366:LIB/src/stm32f10x_i2c.c ****   * @param  NewState: new state of the I2C DMA last transfer.
 367:LIB/src/stm32f10x_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 368:LIB/src/stm32f10x_i2c.c ****   * @retval None
 369:LIB/src/stm32f10x_i2c.c ****   */
 370:LIB/src/stm32f10x_i2c.c **** void I2C_DMALastTransferCmd(I2C_TypeDef* I2Cx, FunctionalState NewState)
 371:LIB/src/stm32f10x_i2c.c **** {
 457              		.loc 1 371 1 is_stmt 1 view -0
 458              		.cfi_startproc
 459              		@ args = 0, pretend = 0, frame = 0
 460              		@ frame_needed = 0, uses_anonymous_args = 0
 461              		@ link register save eliminated.
 372:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
 373:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 462              		.loc 1 373 3 view .LVU140
 374:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 463              		.loc 1 374 3 view .LVU141
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 16


 375:LIB/src/stm32f10x_i2c.c ****   if (NewState != DISABLE)
 464              		.loc 1 375 3 view .LVU142
 465              		.loc 1 375 6 is_stmt 0 view .LVU143
 466 0000 29B1     		cbz	r1, .L28
 376:LIB/src/stm32f10x_i2c.c ****   {
 377:LIB/src/stm32f10x_i2c.c ****     /* Next DMA transfer is the last transfer */
 378:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR2 |= CR2_LAST_Set;
 467              		.loc 1 378 5 is_stmt 1 view .LVU144
 468              		.loc 1 378 15 is_stmt 0 view .LVU145
 469 0002 8388     		ldrh	r3, [r0, #4]
 470 0004 9BB2     		uxth	r3, r3
 471 0006 43F48053 		orr	r3, r3, #4096
 472 000a 8380     		strh	r3, [r0, #4]	@ movhi
 473 000c 7047     		bx	lr
 474              	.L28:
 379:LIB/src/stm32f10x_i2c.c ****   }
 380:LIB/src/stm32f10x_i2c.c ****   else
 381:LIB/src/stm32f10x_i2c.c ****   {
 382:LIB/src/stm32f10x_i2c.c ****     /* Next DMA transfer is not the last transfer */
 383:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR2 &= CR2_LAST_Reset;
 475              		.loc 1 383 5 is_stmt 1 view .LVU146
 476              		.loc 1 383 15 is_stmt 0 view .LVU147
 477 000e 8388     		ldrh	r3, [r0, #4]
 478 0010 9BB2     		uxth	r3, r3
 479 0012 23F48053 		bic	r3, r3, #4096
 480 0016 9BB2     		uxth	r3, r3
 481 0018 8380     		strh	r3, [r0, #4]	@ movhi
 384:LIB/src/stm32f10x_i2c.c ****   }
 385:LIB/src/stm32f10x_i2c.c **** }
 482              		.loc 1 385 1 view .LVU148
 483 001a 7047     		bx	lr
 484              		.cfi_endproc
 485              	.LFE34:
 487              		.section	.text.I2C_GenerateSTART,"ax",%progbits
 488              		.align	1
 489              		.global	I2C_GenerateSTART
 490              		.syntax unified
 491              		.thumb
 492              		.thumb_func
 494              	I2C_GenerateSTART:
 495              	.LVL42:
 496              	.LFB35:
 386:LIB/src/stm32f10x_i2c.c **** 
 387:LIB/src/stm32f10x_i2c.c **** /**
 388:LIB/src/stm32f10x_i2c.c ****   * @brief  Generates I2Cx communication START condition.
 389:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 390:LIB/src/stm32f10x_i2c.c ****   * @param  NewState: new state of the I2C START condition generation.
 391:LIB/src/stm32f10x_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 392:LIB/src/stm32f10x_i2c.c ****   * @retval None.
 393:LIB/src/stm32f10x_i2c.c ****   */
 394:LIB/src/stm32f10x_i2c.c **** void I2C_GenerateSTART(I2C_TypeDef* I2Cx, FunctionalState NewState)
 395:LIB/src/stm32f10x_i2c.c **** {
 497              		.loc 1 395 1 is_stmt 1 view -0
 498              		.cfi_startproc
 499              		@ args = 0, pretend = 0, frame = 0
 500              		@ frame_needed = 0, uses_anonymous_args = 0
 501              		@ link register save eliminated.
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 17


 396:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
 397:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 502              		.loc 1 397 3 view .LVU150
 398:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 503              		.loc 1 398 3 view .LVU151
 399:LIB/src/stm32f10x_i2c.c ****   if (NewState != DISABLE)
 504              		.loc 1 399 3 view .LVU152
 505              		.loc 1 399 6 is_stmt 0 view .LVU153
 506 0000 29B1     		cbz	r1, .L31
 400:LIB/src/stm32f10x_i2c.c ****   {
 401:LIB/src/stm32f10x_i2c.c ****     /* Generate a START condition */
 402:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR1 |= CR1_START_Set;
 507              		.loc 1 402 5 is_stmt 1 view .LVU154
 508              		.loc 1 402 15 is_stmt 0 view .LVU155
 509 0002 0388     		ldrh	r3, [r0]
 510 0004 9BB2     		uxth	r3, r3
 511 0006 43F48073 		orr	r3, r3, #256
 512 000a 0380     		strh	r3, [r0]	@ movhi
 513 000c 7047     		bx	lr
 514              	.L31:
 403:LIB/src/stm32f10x_i2c.c ****   }
 404:LIB/src/stm32f10x_i2c.c ****   else
 405:LIB/src/stm32f10x_i2c.c ****   {
 406:LIB/src/stm32f10x_i2c.c ****     /* Disable the START condition generation */
 407:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR1 &= CR1_START_Reset;
 515              		.loc 1 407 5 is_stmt 1 view .LVU156
 516              		.loc 1 407 15 is_stmt 0 view .LVU157
 517 000e 0388     		ldrh	r3, [r0]
 518 0010 9BB2     		uxth	r3, r3
 519 0012 23F48073 		bic	r3, r3, #256
 520 0016 9BB2     		uxth	r3, r3
 521 0018 0380     		strh	r3, [r0]	@ movhi
 408:LIB/src/stm32f10x_i2c.c ****   }
 409:LIB/src/stm32f10x_i2c.c **** }
 522              		.loc 1 409 1 view .LVU158
 523 001a 7047     		bx	lr
 524              		.cfi_endproc
 525              	.LFE35:
 527              		.section	.text.I2C_GenerateSTOP,"ax",%progbits
 528              		.align	1
 529              		.global	I2C_GenerateSTOP
 530              		.syntax unified
 531              		.thumb
 532              		.thumb_func
 534              	I2C_GenerateSTOP:
 535              	.LVL43:
 536              	.LFB36:
 410:LIB/src/stm32f10x_i2c.c **** 
 411:LIB/src/stm32f10x_i2c.c **** /**
 412:LIB/src/stm32f10x_i2c.c ****   * @brief  Generates I2Cx communication STOP condition.
 413:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 414:LIB/src/stm32f10x_i2c.c ****   * @param  NewState: new state of the I2C STOP condition generation.
 415:LIB/src/stm32f10x_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 416:LIB/src/stm32f10x_i2c.c ****   * @retval None.
 417:LIB/src/stm32f10x_i2c.c ****   */
 418:LIB/src/stm32f10x_i2c.c **** void I2C_GenerateSTOP(I2C_TypeDef* I2Cx, FunctionalState NewState)
 419:LIB/src/stm32f10x_i2c.c **** {
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 18


 537              		.loc 1 419 1 is_stmt 1 view -0
 538              		.cfi_startproc
 539              		@ args = 0, pretend = 0, frame = 0
 540              		@ frame_needed = 0, uses_anonymous_args = 0
 541              		@ link register save eliminated.
 420:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
 421:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 542              		.loc 1 421 3 view .LVU160
 422:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 543              		.loc 1 422 3 view .LVU161
 423:LIB/src/stm32f10x_i2c.c ****   if (NewState != DISABLE)
 544              		.loc 1 423 3 view .LVU162
 545              		.loc 1 423 6 is_stmt 0 view .LVU163
 546 0000 29B1     		cbz	r1, .L34
 424:LIB/src/stm32f10x_i2c.c ****   {
 425:LIB/src/stm32f10x_i2c.c ****     /* Generate a STOP condition */
 426:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR1 |= CR1_STOP_Set;
 547              		.loc 1 426 5 is_stmt 1 view .LVU164
 548              		.loc 1 426 15 is_stmt 0 view .LVU165
 549 0002 0388     		ldrh	r3, [r0]
 550 0004 9BB2     		uxth	r3, r3
 551 0006 43F40073 		orr	r3, r3, #512
 552 000a 0380     		strh	r3, [r0]	@ movhi
 553 000c 7047     		bx	lr
 554              	.L34:
 427:LIB/src/stm32f10x_i2c.c ****   }
 428:LIB/src/stm32f10x_i2c.c ****   else
 429:LIB/src/stm32f10x_i2c.c ****   {
 430:LIB/src/stm32f10x_i2c.c ****     /* Disable the STOP condition generation */
 431:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR1 &= CR1_STOP_Reset;
 555              		.loc 1 431 5 is_stmt 1 view .LVU166
 556              		.loc 1 431 15 is_stmt 0 view .LVU167
 557 000e 0388     		ldrh	r3, [r0]
 558 0010 9BB2     		uxth	r3, r3
 559 0012 23F40073 		bic	r3, r3, #512
 560 0016 9BB2     		uxth	r3, r3
 561 0018 0380     		strh	r3, [r0]	@ movhi
 432:LIB/src/stm32f10x_i2c.c ****   }
 433:LIB/src/stm32f10x_i2c.c **** }
 562              		.loc 1 433 1 view .LVU168
 563 001a 7047     		bx	lr
 564              		.cfi_endproc
 565              	.LFE36:
 567              		.section	.text.I2C_AcknowledgeConfig,"ax",%progbits
 568              		.align	1
 569              		.global	I2C_AcknowledgeConfig
 570              		.syntax unified
 571              		.thumb
 572              		.thumb_func
 574              	I2C_AcknowledgeConfig:
 575              	.LVL44:
 576              	.LFB37:
 434:LIB/src/stm32f10x_i2c.c **** 
 435:LIB/src/stm32f10x_i2c.c **** /**
 436:LIB/src/stm32f10x_i2c.c ****   * @brief  Enables or disables the specified I2C acknowledge feature.
 437:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 438:LIB/src/stm32f10x_i2c.c ****   * @param  NewState: new state of the I2C Acknowledgement.
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 19


 439:LIB/src/stm32f10x_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 440:LIB/src/stm32f10x_i2c.c ****   * @retval None.
 441:LIB/src/stm32f10x_i2c.c ****   */
 442:LIB/src/stm32f10x_i2c.c **** void I2C_AcknowledgeConfig(I2C_TypeDef* I2Cx, FunctionalState NewState)
 443:LIB/src/stm32f10x_i2c.c **** {
 577              		.loc 1 443 1 is_stmt 1 view -0
 578              		.cfi_startproc
 579              		@ args = 0, pretend = 0, frame = 0
 580              		@ frame_needed = 0, uses_anonymous_args = 0
 581              		@ link register save eliminated.
 444:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
 445:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 582              		.loc 1 445 3 view .LVU170
 446:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 583              		.loc 1 446 3 view .LVU171
 447:LIB/src/stm32f10x_i2c.c ****   if (NewState != DISABLE)
 584              		.loc 1 447 3 view .LVU172
 585              		.loc 1 447 6 is_stmt 0 view .LVU173
 586 0000 29B1     		cbz	r1, .L37
 448:LIB/src/stm32f10x_i2c.c ****   {
 449:LIB/src/stm32f10x_i2c.c ****     /* Enable the acknowledgement */
 450:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR1 |= CR1_ACK_Set;
 587              		.loc 1 450 5 is_stmt 1 view .LVU174
 588              		.loc 1 450 15 is_stmt 0 view .LVU175
 589 0002 0388     		ldrh	r3, [r0]
 590 0004 9BB2     		uxth	r3, r3
 591 0006 43F48063 		orr	r3, r3, #1024
 592 000a 0380     		strh	r3, [r0]	@ movhi
 593 000c 7047     		bx	lr
 594              	.L37:
 451:LIB/src/stm32f10x_i2c.c ****   }
 452:LIB/src/stm32f10x_i2c.c ****   else
 453:LIB/src/stm32f10x_i2c.c ****   {
 454:LIB/src/stm32f10x_i2c.c ****     /* Disable the acknowledgement */
 455:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR1 &= CR1_ACK_Reset;
 595              		.loc 1 455 5 is_stmt 1 view .LVU176
 596              		.loc 1 455 15 is_stmt 0 view .LVU177
 597 000e 0388     		ldrh	r3, [r0]
 598 0010 9BB2     		uxth	r3, r3
 599 0012 23F48063 		bic	r3, r3, #1024
 600 0016 9BB2     		uxth	r3, r3
 601 0018 0380     		strh	r3, [r0]	@ movhi
 456:LIB/src/stm32f10x_i2c.c ****   }
 457:LIB/src/stm32f10x_i2c.c **** }
 602              		.loc 1 457 1 view .LVU178
 603 001a 7047     		bx	lr
 604              		.cfi_endproc
 605              	.LFE37:
 607              		.section	.text.I2C_OwnAddress2Config,"ax",%progbits
 608              		.align	1
 609              		.global	I2C_OwnAddress2Config
 610              		.syntax unified
 611              		.thumb
 612              		.thumb_func
 614              	I2C_OwnAddress2Config:
 615              	.LVL45:
 616              	.LFB38:
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 20


 458:LIB/src/stm32f10x_i2c.c **** 
 459:LIB/src/stm32f10x_i2c.c **** /**
 460:LIB/src/stm32f10x_i2c.c ****   * @brief  Configures the specified I2C own address2.
 461:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 462:LIB/src/stm32f10x_i2c.c ****   * @param  Address: specifies the 7bit I2C own address2.
 463:LIB/src/stm32f10x_i2c.c ****   * @retval None.
 464:LIB/src/stm32f10x_i2c.c ****   */
 465:LIB/src/stm32f10x_i2c.c **** void I2C_OwnAddress2Config(I2C_TypeDef* I2Cx, uint8_t Address)
 466:LIB/src/stm32f10x_i2c.c **** {
 617              		.loc 1 466 1 is_stmt 1 view -0
 618              		.cfi_startproc
 619              		@ args = 0, pretend = 0, frame = 0
 620              		@ frame_needed = 0, uses_anonymous_args = 0
 621              		@ link register save eliminated.
 467:LIB/src/stm32f10x_i2c.c ****   uint16_t tmpreg = 0;
 622              		.loc 1 467 3 view .LVU180
 468:LIB/src/stm32f10x_i2c.c **** 
 469:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
 470:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 623              		.loc 1 470 3 view .LVU181
 471:LIB/src/stm32f10x_i2c.c **** 
 472:LIB/src/stm32f10x_i2c.c ****   /* Get the old register value */
 473:LIB/src/stm32f10x_i2c.c ****   tmpreg = I2Cx->OAR2;
 624              		.loc 1 473 3 view .LVU182
 625              		.loc 1 473 10 is_stmt 0 view .LVU183
 626 0000 8389     		ldrh	r3, [r0, #12]
 627 0002 9BB2     		uxth	r3, r3
 628              	.LVL46:
 474:LIB/src/stm32f10x_i2c.c **** 
 475:LIB/src/stm32f10x_i2c.c ****   /* Reset I2Cx Own address2 bit [7:1] */
 476:LIB/src/stm32f10x_i2c.c ****   tmpreg &= OAR2_ADD2_Reset;
 629              		.loc 1 476 3 is_stmt 1 view .LVU184
 630              		.loc 1 476 10 is_stmt 0 view .LVU185
 631 0004 23F0FE03 		bic	r3, r3, #254
 632              	.LVL47:
 477:LIB/src/stm32f10x_i2c.c **** 
 478:LIB/src/stm32f10x_i2c.c ****   /* Set I2Cx Own address2 */
 479:LIB/src/stm32f10x_i2c.c ****   tmpreg |= (uint16_t)((uint16_t)Address & (uint16_t)0x00FE);
 633              		.loc 1 479 3 is_stmt 1 view .LVU186
 634              		.loc 1 479 13 is_stmt 0 view .LVU187
 635 0008 01F0FE01 		and	r1, r1, #254
 636              	.LVL48:
 637              		.loc 1 479 10 view .LVU188
 638 000c 0B43     		orrs	r3, r3, r1
 639              	.LVL49:
 480:LIB/src/stm32f10x_i2c.c **** 
 481:LIB/src/stm32f10x_i2c.c ****   /* Store the new register value */
 482:LIB/src/stm32f10x_i2c.c ****   I2Cx->OAR2 = tmpreg;
 640              		.loc 1 482 3 is_stmt 1 view .LVU189
 641              		.loc 1 482 14 is_stmt 0 view .LVU190
 642 000e 8381     		strh	r3, [r0, #12]	@ movhi
 483:LIB/src/stm32f10x_i2c.c **** }
 643              		.loc 1 483 1 view .LVU191
 644 0010 7047     		bx	lr
 645              		.cfi_endproc
 646              	.LFE38:
 648              		.section	.text.I2C_DualAddressCmd,"ax",%progbits
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 21


 649              		.align	1
 650              		.global	I2C_DualAddressCmd
 651              		.syntax unified
 652              		.thumb
 653              		.thumb_func
 655              	I2C_DualAddressCmd:
 656              	.LVL50:
 657              	.LFB39:
 484:LIB/src/stm32f10x_i2c.c **** 
 485:LIB/src/stm32f10x_i2c.c **** /**
 486:LIB/src/stm32f10x_i2c.c ****   * @brief  Enables or disables the specified I2C dual addressing mode.
 487:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 488:LIB/src/stm32f10x_i2c.c ****   * @param  NewState: new state of the I2C dual addressing mode.
 489:LIB/src/stm32f10x_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 490:LIB/src/stm32f10x_i2c.c ****   * @retval None
 491:LIB/src/stm32f10x_i2c.c ****   */
 492:LIB/src/stm32f10x_i2c.c **** void I2C_DualAddressCmd(I2C_TypeDef* I2Cx, FunctionalState NewState)
 493:LIB/src/stm32f10x_i2c.c **** {
 658              		.loc 1 493 1 is_stmt 1 view -0
 659              		.cfi_startproc
 660              		@ args = 0, pretend = 0, frame = 0
 661              		@ frame_needed = 0, uses_anonymous_args = 0
 662              		@ link register save eliminated.
 494:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
 495:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 663              		.loc 1 495 3 view .LVU193
 496:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 664              		.loc 1 496 3 view .LVU194
 497:LIB/src/stm32f10x_i2c.c ****   if (NewState != DISABLE)
 665              		.loc 1 497 3 view .LVU195
 666              		.loc 1 497 6 is_stmt 0 view .LVU196
 667 0000 29B1     		cbz	r1, .L41
 498:LIB/src/stm32f10x_i2c.c ****   {
 499:LIB/src/stm32f10x_i2c.c ****     /* Enable dual addressing mode */
 500:LIB/src/stm32f10x_i2c.c ****     I2Cx->OAR2 |= OAR2_ENDUAL_Set;
 668              		.loc 1 500 5 is_stmt 1 view .LVU197
 669              		.loc 1 500 16 is_stmt 0 view .LVU198
 670 0002 8389     		ldrh	r3, [r0, #12]
 671 0004 9BB2     		uxth	r3, r3
 672 0006 43F00103 		orr	r3, r3, #1
 673 000a 8381     		strh	r3, [r0, #12]	@ movhi
 674 000c 7047     		bx	lr
 675              	.L41:
 501:LIB/src/stm32f10x_i2c.c ****   }
 502:LIB/src/stm32f10x_i2c.c ****   else
 503:LIB/src/stm32f10x_i2c.c ****   {
 504:LIB/src/stm32f10x_i2c.c ****     /* Disable dual addressing mode */
 505:LIB/src/stm32f10x_i2c.c ****     I2Cx->OAR2 &= OAR2_ENDUAL_Reset;
 676              		.loc 1 505 5 is_stmt 1 view .LVU199
 677              		.loc 1 505 16 is_stmt 0 view .LVU200
 678 000e 8389     		ldrh	r3, [r0, #12]
 679 0010 9BB2     		uxth	r3, r3
 680 0012 23F00103 		bic	r3, r3, #1
 681 0016 9BB2     		uxth	r3, r3
 682 0018 8381     		strh	r3, [r0, #12]	@ movhi
 506:LIB/src/stm32f10x_i2c.c ****   }
 507:LIB/src/stm32f10x_i2c.c **** }
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 22


 683              		.loc 1 507 1 view .LVU201
 684 001a 7047     		bx	lr
 685              		.cfi_endproc
 686              	.LFE39:
 688              		.section	.text.I2C_GeneralCallCmd,"ax",%progbits
 689              		.align	1
 690              		.global	I2C_GeneralCallCmd
 691              		.syntax unified
 692              		.thumb
 693              		.thumb_func
 695              	I2C_GeneralCallCmd:
 696              	.LVL51:
 697              	.LFB40:
 508:LIB/src/stm32f10x_i2c.c **** 
 509:LIB/src/stm32f10x_i2c.c **** /**
 510:LIB/src/stm32f10x_i2c.c ****   * @brief  Enables or disables the specified I2C general call feature.
 511:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 512:LIB/src/stm32f10x_i2c.c ****   * @param  NewState: new state of the I2C General call.
 513:LIB/src/stm32f10x_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 514:LIB/src/stm32f10x_i2c.c ****   * @retval None
 515:LIB/src/stm32f10x_i2c.c ****   */
 516:LIB/src/stm32f10x_i2c.c **** void I2C_GeneralCallCmd(I2C_TypeDef* I2Cx, FunctionalState NewState)
 517:LIB/src/stm32f10x_i2c.c **** {
 698              		.loc 1 517 1 is_stmt 1 view -0
 699              		.cfi_startproc
 700              		@ args = 0, pretend = 0, frame = 0
 701              		@ frame_needed = 0, uses_anonymous_args = 0
 702              		@ link register save eliminated.
 518:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
 519:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 703              		.loc 1 519 3 view .LVU203
 520:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 704              		.loc 1 520 3 view .LVU204
 521:LIB/src/stm32f10x_i2c.c ****   if (NewState != DISABLE)
 705              		.loc 1 521 3 view .LVU205
 706              		.loc 1 521 6 is_stmt 0 view .LVU206
 707 0000 29B1     		cbz	r1, .L44
 522:LIB/src/stm32f10x_i2c.c ****   {
 523:LIB/src/stm32f10x_i2c.c ****     /* Enable generall call */
 524:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR1 |= CR1_ENGC_Set;
 708              		.loc 1 524 5 is_stmt 1 view .LVU207
 709              		.loc 1 524 15 is_stmt 0 view .LVU208
 710 0002 0388     		ldrh	r3, [r0]
 711 0004 9BB2     		uxth	r3, r3
 712 0006 43F04003 		orr	r3, r3, #64
 713 000a 0380     		strh	r3, [r0]	@ movhi
 714 000c 7047     		bx	lr
 715              	.L44:
 525:LIB/src/stm32f10x_i2c.c ****   }
 526:LIB/src/stm32f10x_i2c.c ****   else
 527:LIB/src/stm32f10x_i2c.c ****   {
 528:LIB/src/stm32f10x_i2c.c ****     /* Disable generall call */
 529:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR1 &= CR1_ENGC_Reset;
 716              		.loc 1 529 5 is_stmt 1 view .LVU209
 717              		.loc 1 529 15 is_stmt 0 view .LVU210
 718 000e 0388     		ldrh	r3, [r0]
 719 0010 9BB2     		uxth	r3, r3
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 23


 720 0012 23F04003 		bic	r3, r3, #64
 721 0016 9BB2     		uxth	r3, r3
 722 0018 0380     		strh	r3, [r0]	@ movhi
 530:LIB/src/stm32f10x_i2c.c ****   }
 531:LIB/src/stm32f10x_i2c.c **** }
 723              		.loc 1 531 1 view .LVU211
 724 001a 7047     		bx	lr
 725              		.cfi_endproc
 726              	.LFE40:
 728              		.section	.text.I2C_ITConfig,"ax",%progbits
 729              		.align	1
 730              		.global	I2C_ITConfig
 731              		.syntax unified
 732              		.thumb
 733              		.thumb_func
 735              	I2C_ITConfig:
 736              	.LVL52:
 737              	.LFB41:
 532:LIB/src/stm32f10x_i2c.c **** 
 533:LIB/src/stm32f10x_i2c.c **** /**
 534:LIB/src/stm32f10x_i2c.c ****   * @brief  Enables or disables the specified I2C interrupts.
 535:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 536:LIB/src/stm32f10x_i2c.c ****   * @param  I2C_IT: specifies the I2C interrupts sources to be enabled or disabled. 
 537:LIB/src/stm32f10x_i2c.c ****   *   This parameter can be any combination of the following values:
 538:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_BUF: Buffer interrupt mask
 539:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_EVT: Event interrupt mask
 540:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_ERR: Error interrupt mask
 541:LIB/src/stm32f10x_i2c.c ****   * @param  NewState: new state of the specified I2C interrupts.
 542:LIB/src/stm32f10x_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 543:LIB/src/stm32f10x_i2c.c ****   * @retval None
 544:LIB/src/stm32f10x_i2c.c ****   */
 545:LIB/src/stm32f10x_i2c.c **** void I2C_ITConfig(I2C_TypeDef* I2Cx, uint16_t I2C_IT, FunctionalState NewState)
 546:LIB/src/stm32f10x_i2c.c **** {
 738              		.loc 1 546 1 is_stmt 1 view -0
 739              		.cfi_startproc
 740              		@ args = 0, pretend = 0, frame = 0
 741              		@ frame_needed = 0, uses_anonymous_args = 0
 742              		@ link register save eliminated.
 547:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
 548:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 743              		.loc 1 548 3 view .LVU213
 549:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 744              		.loc 1 549 3 view .LVU214
 550:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_CONFIG_IT(I2C_IT));
 745              		.loc 1 550 3 view .LVU215
 551:LIB/src/stm32f10x_i2c.c ****   
 552:LIB/src/stm32f10x_i2c.c ****   if (NewState != DISABLE)
 746              		.loc 1 552 3 view .LVU216
 747              		.loc 1 552 6 is_stmt 0 view .LVU217
 748 0000 22B1     		cbz	r2, .L47
 553:LIB/src/stm32f10x_i2c.c ****   {
 554:LIB/src/stm32f10x_i2c.c ****     /* Enable the selected I2C interrupts */
 555:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR2 |= I2C_IT;
 749              		.loc 1 555 5 is_stmt 1 view .LVU218
 750              		.loc 1 555 15 is_stmt 0 view .LVU219
 751 0002 8388     		ldrh	r3, [r0, #4]
 752 0004 9BB2     		uxth	r3, r3
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 24


 753 0006 1943     		orrs	r1, r1, r3
 754              	.LVL53:
 755              		.loc 1 555 15 view .LVU220
 756 0008 8180     		strh	r1, [r0, #4]	@ movhi
 757 000a 7047     		bx	lr
 758              	.LVL54:
 759              	.L47:
 556:LIB/src/stm32f10x_i2c.c ****   }
 557:LIB/src/stm32f10x_i2c.c ****   else
 558:LIB/src/stm32f10x_i2c.c ****   {
 559:LIB/src/stm32f10x_i2c.c ****     /* Disable the selected I2C interrupts */
 560:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR2 &= (uint16_t)~I2C_IT;
 760              		.loc 1 560 5 is_stmt 1 view .LVU221
 761              		.loc 1 560 15 is_stmt 0 view .LVU222
 762 000c 8388     		ldrh	r3, [r0, #4]
 763              		.loc 1 560 18 view .LVU223
 764 000e C943     		mvns	r1, r1
 765              	.LVL55:
 766              		.loc 1 560 18 view .LVU224
 767 0010 89B2     		uxth	r1, r1
 768              		.loc 1 560 15 view .LVU225
 769 0012 1940     		ands	r1, r1, r3
 770 0014 8180     		strh	r1, [r0, #4]	@ movhi
 561:LIB/src/stm32f10x_i2c.c ****   }
 562:LIB/src/stm32f10x_i2c.c **** }
 771              		.loc 1 562 1 view .LVU226
 772 0016 7047     		bx	lr
 773              		.cfi_endproc
 774              	.LFE41:
 776              		.section	.text.I2C_SendData,"ax",%progbits
 777              		.align	1
 778              		.global	I2C_SendData
 779              		.syntax unified
 780              		.thumb
 781              		.thumb_func
 783              	I2C_SendData:
 784              	.LVL56:
 785              	.LFB42:
 563:LIB/src/stm32f10x_i2c.c **** 
 564:LIB/src/stm32f10x_i2c.c **** /**
 565:LIB/src/stm32f10x_i2c.c ****   * @brief  Sends a data byte through the I2Cx peripheral.
 566:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 567:LIB/src/stm32f10x_i2c.c ****   * @param  Data: Byte to be transmitted..
 568:LIB/src/stm32f10x_i2c.c ****   * @retval None
 569:LIB/src/stm32f10x_i2c.c ****   */
 570:LIB/src/stm32f10x_i2c.c **** void I2C_SendData(I2C_TypeDef* I2Cx, uint8_t Data)
 571:LIB/src/stm32f10x_i2c.c **** {
 786              		.loc 1 571 1 is_stmt 1 view -0
 787              		.cfi_startproc
 788              		@ args = 0, pretend = 0, frame = 0
 789              		@ frame_needed = 0, uses_anonymous_args = 0
 790              		@ link register save eliminated.
 572:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
 573:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 791              		.loc 1 573 3 view .LVU228
 574:LIB/src/stm32f10x_i2c.c ****   /* Write in the DR register the data to be sent */
 575:LIB/src/stm32f10x_i2c.c ****   I2Cx->DR = Data;
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 25


 792              		.loc 1 575 3 view .LVU229
 793              		.loc 1 575 12 is_stmt 0 view .LVU230
 794 0000 0182     		strh	r1, [r0, #16]	@ movhi
 576:LIB/src/stm32f10x_i2c.c **** }
 795              		.loc 1 576 1 view .LVU231
 796 0002 7047     		bx	lr
 797              		.cfi_endproc
 798              	.LFE42:
 800              		.section	.text.I2C_ReceiveData,"ax",%progbits
 801              		.align	1
 802              		.global	I2C_ReceiveData
 803              		.syntax unified
 804              		.thumb
 805              		.thumb_func
 807              	I2C_ReceiveData:
 808              	.LVL57:
 809              	.LFB43:
 577:LIB/src/stm32f10x_i2c.c **** 
 578:LIB/src/stm32f10x_i2c.c **** /**
 579:LIB/src/stm32f10x_i2c.c ****   * @brief  Returns the most recent received data by the I2Cx peripheral.
 580:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 581:LIB/src/stm32f10x_i2c.c ****   * @retval The value of the received data.
 582:LIB/src/stm32f10x_i2c.c ****   */
 583:LIB/src/stm32f10x_i2c.c **** uint8_t I2C_ReceiveData(I2C_TypeDef* I2Cx)
 584:LIB/src/stm32f10x_i2c.c **** {
 810              		.loc 1 584 1 is_stmt 1 view -0
 811              		.cfi_startproc
 812              		@ args = 0, pretend = 0, frame = 0
 813              		@ frame_needed = 0, uses_anonymous_args = 0
 814              		@ link register save eliminated.
 585:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
 586:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 815              		.loc 1 586 3 view .LVU233
 587:LIB/src/stm32f10x_i2c.c ****   /* Return the data in the DR register */
 588:LIB/src/stm32f10x_i2c.c ****   return (uint8_t)I2Cx->DR;
 816              		.loc 1 588 3 view .LVU234
 817              		.loc 1 588 23 is_stmt 0 view .LVU235
 818 0000 008A     		ldrh	r0, [r0, #16]
 819              	.LVL58:
 589:LIB/src/stm32f10x_i2c.c **** }
 820              		.loc 1 589 1 view .LVU236
 821 0002 C0B2     		uxtb	r0, r0
 822 0004 7047     		bx	lr
 823              		.cfi_endproc
 824              	.LFE43:
 826              		.section	.text.I2C_Send7bitAddress,"ax",%progbits
 827              		.align	1
 828              		.global	I2C_Send7bitAddress
 829              		.syntax unified
 830              		.thumb
 831              		.thumb_func
 833              	I2C_Send7bitAddress:
 834              	.LVL59:
 835              	.LFB44:
 590:LIB/src/stm32f10x_i2c.c **** 
 591:LIB/src/stm32f10x_i2c.c **** /**
 592:LIB/src/stm32f10x_i2c.c ****   * @brief  Transmits the address byte to select the slave device.
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 26


 593:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 594:LIB/src/stm32f10x_i2c.c ****   * @param  Address: specifies the slave address which will be transmitted
 595:LIB/src/stm32f10x_i2c.c ****   * @param  I2C_Direction: specifies whether the I2C device will be a
 596:LIB/src/stm32f10x_i2c.c ****   *   Transmitter or a Receiver. This parameter can be one of the following values
 597:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_Direction_Transmitter: Transmitter mode
 598:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_Direction_Receiver: Receiver mode
 599:LIB/src/stm32f10x_i2c.c ****   * @retval None.
 600:LIB/src/stm32f10x_i2c.c ****   */
 601:LIB/src/stm32f10x_i2c.c **** void I2C_Send7bitAddress(I2C_TypeDef* I2Cx, uint8_t Address, uint8_t I2C_Direction)
 602:LIB/src/stm32f10x_i2c.c **** {
 836              		.loc 1 602 1 is_stmt 1 view -0
 837              		.cfi_startproc
 838              		@ args = 0, pretend = 0, frame = 0
 839              		@ frame_needed = 0, uses_anonymous_args = 0
 840              		@ link register save eliminated.
 603:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
 604:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 841              		.loc 1 604 3 view .LVU238
 605:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_DIRECTION(I2C_Direction));
 842              		.loc 1 605 3 view .LVU239
 606:LIB/src/stm32f10x_i2c.c ****   /* Test on the direction to set/reset the read/write bit */
 607:LIB/src/stm32f10x_i2c.c ****   if (I2C_Direction != I2C_Direction_Transmitter)
 843              		.loc 1 607 3 view .LVU240
 844              		.loc 1 607 6 is_stmt 0 view .LVU241
 845 0000 22B1     		cbz	r2, .L52
 608:LIB/src/stm32f10x_i2c.c ****   {
 609:LIB/src/stm32f10x_i2c.c ****     /* Set the address bit0 for read */
 610:LIB/src/stm32f10x_i2c.c ****     Address |= OAR1_ADD0_Set;
 846              		.loc 1 610 5 is_stmt 1 view .LVU242
 847              		.loc 1 610 13 is_stmt 0 view .LVU243
 848 0002 41F00101 		orr	r1, r1, #1
 849              	.LVL60:
 850              	.L53:
 611:LIB/src/stm32f10x_i2c.c ****   }
 612:LIB/src/stm32f10x_i2c.c ****   else
 613:LIB/src/stm32f10x_i2c.c ****   {
 614:LIB/src/stm32f10x_i2c.c ****     /* Reset the address bit0 for write */
 615:LIB/src/stm32f10x_i2c.c ****     Address &= OAR1_ADD0_Reset;
 616:LIB/src/stm32f10x_i2c.c ****   }
 617:LIB/src/stm32f10x_i2c.c ****   /* Send the address */
 618:LIB/src/stm32f10x_i2c.c ****   I2Cx->DR = Address;
 851              		.loc 1 618 3 is_stmt 1 view .LVU244
 852              		.loc 1 618 12 is_stmt 0 view .LVU245
 853 0006 89B2     		uxth	r1, r1
 854              	.LVL61:
 855              		.loc 1 618 12 view .LVU246
 856 0008 0182     		strh	r1, [r0, #16]	@ movhi
 619:LIB/src/stm32f10x_i2c.c **** }
 857              		.loc 1 619 1 view .LVU247
 858 000a 7047     		bx	lr
 859              	.LVL62:
 860              	.L52:
 615:LIB/src/stm32f10x_i2c.c ****   }
 861              		.loc 1 615 5 is_stmt 1 view .LVU248
 615:LIB/src/stm32f10x_i2c.c ****   }
 862              		.loc 1 615 13 is_stmt 0 view .LVU249
 863 000c 01F0FE01 		and	r1, r1, #254
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 27


 864              	.LVL63:
 615:LIB/src/stm32f10x_i2c.c ****   }
 865              		.loc 1 615 13 view .LVU250
 866 0010 F9E7     		b	.L53
 867              		.cfi_endproc
 868              	.LFE44:
 870              		.section	.text.I2C_ReadRegister,"ax",%progbits
 871              		.align	1
 872              		.global	I2C_ReadRegister
 873              		.syntax unified
 874              		.thumb
 875              		.thumb_func
 877              	I2C_ReadRegister:
 878              	.LVL64:
 879              	.LFB45:
 620:LIB/src/stm32f10x_i2c.c **** 
 621:LIB/src/stm32f10x_i2c.c **** /**
 622:LIB/src/stm32f10x_i2c.c ****   * @brief  Reads the specified I2C register and returns its value.
 623:LIB/src/stm32f10x_i2c.c ****   * @param  I2C_Register: specifies the register to read.
 624:LIB/src/stm32f10x_i2c.c ****   *   This parameter can be one of the following values:
 625:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_Register_CR1:  CR1 register.
 626:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_Register_CR2:   CR2 register.
 627:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_Register_OAR1:  OAR1 register.
 628:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_Register_OAR2:  OAR2 register.
 629:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_Register_DR:    DR register.
 630:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_Register_SR1:   SR1 register.
 631:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_Register_SR2:   SR2 register.
 632:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_Register_CCR:   CCR register.
 633:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_Register_TRISE: TRISE register.
 634:LIB/src/stm32f10x_i2c.c ****   * @retval The value of the read register.
 635:LIB/src/stm32f10x_i2c.c ****   */
 636:LIB/src/stm32f10x_i2c.c **** uint16_t I2C_ReadRegister(I2C_TypeDef* I2Cx, uint8_t I2C_Register)
 637:LIB/src/stm32f10x_i2c.c **** {
 880              		.loc 1 637 1 is_stmt 1 view -0
 881              		.cfi_startproc
 882              		@ args = 0, pretend = 0, frame = 8
 883              		@ frame_needed = 0, uses_anonymous_args = 0
 884              		@ link register save eliminated.
 885              		.loc 1 637 1 is_stmt 0 view .LVU252
 886 0000 82B0     		sub	sp, sp, #8
 887              	.LCFI5:
 888              		.cfi_def_cfa_offset 8
 638:LIB/src/stm32f10x_i2c.c ****   __IO uint32_t tmp = 0;
 889              		.loc 1 638 3 is_stmt 1 view .LVU253
 890              		.loc 1 638 17 is_stmt 0 view .LVU254
 891 0002 0023     		movs	r3, #0
 892 0004 0193     		str	r3, [sp, #4]
 639:LIB/src/stm32f10x_i2c.c **** 
 640:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
 641:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 893              		.loc 1 641 3 is_stmt 1 view .LVU255
 642:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_REGISTER(I2C_Register));
 894              		.loc 1 642 3 view .LVU256
 643:LIB/src/stm32f10x_i2c.c **** 
 644:LIB/src/stm32f10x_i2c.c ****   tmp = (uint32_t) I2Cx;
 895              		.loc 1 644 3 view .LVU257
 896              		.loc 1 644 7 is_stmt 0 view .LVU258
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 28


 897 0006 0190     		str	r0, [sp, #4]
 645:LIB/src/stm32f10x_i2c.c ****   tmp += I2C_Register;
 898              		.loc 1 645 3 is_stmt 1 view .LVU259
 899              		.loc 1 645 7 is_stmt 0 view .LVU260
 900 0008 019B     		ldr	r3, [sp, #4]
 901 000a 1944     		add	r1, r1, r3
 902              	.LVL65:
 903              		.loc 1 645 7 view .LVU261
 904 000c 0191     		str	r1, [sp, #4]
 646:LIB/src/stm32f10x_i2c.c **** 
 647:LIB/src/stm32f10x_i2c.c ****   /* Return the selected register value */
 648:LIB/src/stm32f10x_i2c.c ****   return (*(__IO uint16_t *) tmp);
 905              		.loc 1 648 3 is_stmt 1 view .LVU262
 906              		.loc 1 648 12 is_stmt 0 view .LVU263
 907 000e 019B     		ldr	r3, [sp, #4]
 908              		.loc 1 648 11 view .LVU264
 909 0010 1888     		ldrh	r0, [r3]
 910              	.LVL66:
 649:LIB/src/stm32f10x_i2c.c **** }
 911              		.loc 1 649 1 view .LVU265
 912 0012 80B2     		uxth	r0, r0
 913 0014 02B0     		add	sp, sp, #8
 914              	.LCFI6:
 915              		.cfi_def_cfa_offset 0
 916              		@ sp needed
 917 0016 7047     		bx	lr
 918              		.cfi_endproc
 919              	.LFE45:
 921              		.section	.text.I2C_SoftwareResetCmd,"ax",%progbits
 922              		.align	1
 923              		.global	I2C_SoftwareResetCmd
 924              		.syntax unified
 925              		.thumb
 926              		.thumb_func
 928              	I2C_SoftwareResetCmd:
 929              	.LVL67:
 930              	.LFB46:
 650:LIB/src/stm32f10x_i2c.c **** 
 651:LIB/src/stm32f10x_i2c.c **** /**
 652:LIB/src/stm32f10x_i2c.c ****   * @brief  Enables or disables the specified I2C software reset.
 653:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 654:LIB/src/stm32f10x_i2c.c ****   * @param  NewState: new state of the I2C software reset.
 655:LIB/src/stm32f10x_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 656:LIB/src/stm32f10x_i2c.c ****   * @retval None
 657:LIB/src/stm32f10x_i2c.c ****   */
 658:LIB/src/stm32f10x_i2c.c **** void I2C_SoftwareResetCmd(I2C_TypeDef* I2Cx, FunctionalState NewState)
 659:LIB/src/stm32f10x_i2c.c **** {
 931              		.loc 1 659 1 is_stmt 1 view -0
 932              		.cfi_startproc
 933              		@ args = 0, pretend = 0, frame = 0
 934              		@ frame_needed = 0, uses_anonymous_args = 0
 935              		@ link register save eliminated.
 660:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
 661:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 936              		.loc 1 661 3 view .LVU267
 662:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 937              		.loc 1 662 3 view .LVU268
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 29


 663:LIB/src/stm32f10x_i2c.c ****   if (NewState != DISABLE)
 938              		.loc 1 663 3 view .LVU269
 939              		.loc 1 663 6 is_stmt 0 view .LVU270
 940 0000 39B1     		cbz	r1, .L57
 664:LIB/src/stm32f10x_i2c.c ****   {
 665:LIB/src/stm32f10x_i2c.c ****     /* Peripheral under reset */
 666:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR1 |= CR1_SWRST_Set;
 941              		.loc 1 666 5 is_stmt 1 view .LVU271
 942              		.loc 1 666 15 is_stmt 0 view .LVU272
 943 0002 0388     		ldrh	r3, [r0]
 944 0004 6FEA4343 		mvn	r3, r3, lsl #17
 945 0008 6FEA5343 		mvn	r3, r3, lsr #17
 946 000c 9BB2     		uxth	r3, r3
 947 000e 0380     		strh	r3, [r0]	@ movhi
 948 0010 7047     		bx	lr
 949              	.L57:
 667:LIB/src/stm32f10x_i2c.c ****   }
 668:LIB/src/stm32f10x_i2c.c ****   else
 669:LIB/src/stm32f10x_i2c.c ****   {
 670:LIB/src/stm32f10x_i2c.c ****     /* Peripheral not under reset */
 671:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR1 &= CR1_SWRST_Reset;
 950              		.loc 1 671 5 is_stmt 1 view .LVU273
 951              		.loc 1 671 15 is_stmt 0 view .LVU274
 952 0012 0388     		ldrh	r3, [r0]
 953 0014 C3F30E03 		ubfx	r3, r3, #0, #15
 954 0018 0380     		strh	r3, [r0]	@ movhi
 672:LIB/src/stm32f10x_i2c.c ****   }
 673:LIB/src/stm32f10x_i2c.c **** }
 955              		.loc 1 673 1 view .LVU275
 956 001a 7047     		bx	lr
 957              		.cfi_endproc
 958              	.LFE46:
 960              		.section	.text.I2C_NACKPositionConfig,"ax",%progbits
 961              		.align	1
 962              		.global	I2C_NACKPositionConfig
 963              		.syntax unified
 964              		.thumb
 965              		.thumb_func
 967              	I2C_NACKPositionConfig:
 968              	.LVL68:
 969              	.LFB47:
 674:LIB/src/stm32f10x_i2c.c **** 
 675:LIB/src/stm32f10x_i2c.c **** /**
 676:LIB/src/stm32f10x_i2c.c ****   * @brief  Selects the specified I2C NACK position in master receiver mode.
 677:LIB/src/stm32f10x_i2c.c ****   *         This function is useful in I2C Master Receiver mode when the number
 678:LIB/src/stm32f10x_i2c.c ****   *         of data to be received is equal to 2. In this case, this function 
 679:LIB/src/stm32f10x_i2c.c ****   *         should be called (with parameter I2C_NACKPosition_Next) before data 
 680:LIB/src/stm32f10x_i2c.c ****   *         reception starts,as described in the 2-byte reception procedure 
 681:LIB/src/stm32f10x_i2c.c ****   *         recommended in Reference Manual in Section: Master receiver.                
 682:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 683:LIB/src/stm32f10x_i2c.c ****   * @param  I2C_NACKPosition: specifies the NACK position. 
 684:LIB/src/stm32f10x_i2c.c ****   *   This parameter can be one of the following values:
 685:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_NACKPosition_Next: indicates that the next byte will be the last
 686:LIB/src/stm32f10x_i2c.c ****   *          received byte.  
 687:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_NACKPosition_Current: indicates that current byte is the last 
 688:LIB/src/stm32f10x_i2c.c ****   *          received byte.
 689:LIB/src/stm32f10x_i2c.c ****   *            
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 30


 690:LIB/src/stm32f10x_i2c.c ****   * @note    This function configures the same bit (POS) as I2C_PECPositionConfig() 
 691:LIB/src/stm32f10x_i2c.c ****   *          but is intended to be used in I2C mode while I2C_PECPositionConfig() 
 692:LIB/src/stm32f10x_i2c.c ****   *          is intended to used in SMBUS mode. 
 693:LIB/src/stm32f10x_i2c.c ****   *            
 694:LIB/src/stm32f10x_i2c.c ****   * @retval None
 695:LIB/src/stm32f10x_i2c.c ****   */
 696:LIB/src/stm32f10x_i2c.c **** void I2C_NACKPositionConfig(I2C_TypeDef* I2Cx, uint16_t I2C_NACKPosition)
 697:LIB/src/stm32f10x_i2c.c **** {
 970              		.loc 1 697 1 is_stmt 1 view -0
 971              		.cfi_startproc
 972              		@ args = 0, pretend = 0, frame = 0
 973              		@ frame_needed = 0, uses_anonymous_args = 0
 974              		@ link register save eliminated.
 698:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
 699:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 975              		.loc 1 699 3 view .LVU277
 700:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_NACK_POSITION(I2C_NACKPosition));
 976              		.loc 1 700 3 view .LVU278
 701:LIB/src/stm32f10x_i2c.c ****   
 702:LIB/src/stm32f10x_i2c.c ****   /* Check the input parameter */
 703:LIB/src/stm32f10x_i2c.c ****   if (I2C_NACKPosition == I2C_NACKPosition_Next)
 977              		.loc 1 703 3 view .LVU279
 978              		.loc 1 703 6 is_stmt 0 view .LVU280
 979 0000 B1F5006F 		cmp	r1, #2048
 980 0004 06D0     		beq	.L62
 704:LIB/src/stm32f10x_i2c.c ****   {
 705:LIB/src/stm32f10x_i2c.c ****     /* Next byte in shift register is the last received byte */
 706:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR1 |= I2C_NACKPosition_Next;
 707:LIB/src/stm32f10x_i2c.c ****   }
 708:LIB/src/stm32f10x_i2c.c ****   else
 709:LIB/src/stm32f10x_i2c.c ****   {
 710:LIB/src/stm32f10x_i2c.c ****     /* Current byte in shift register is the last received byte */
 711:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR1 &= I2C_NACKPosition_Current;
 981              		.loc 1 711 5 is_stmt 1 view .LVU281
 982              		.loc 1 711 15 is_stmt 0 view .LVU282
 983 0006 0388     		ldrh	r3, [r0]
 984 0008 9BB2     		uxth	r3, r3
 985 000a 23F40063 		bic	r3, r3, #2048
 986 000e 9BB2     		uxth	r3, r3
 987 0010 0380     		strh	r3, [r0]	@ movhi
 712:LIB/src/stm32f10x_i2c.c ****   }
 713:LIB/src/stm32f10x_i2c.c **** }
 988              		.loc 1 713 1 view .LVU283
 989 0012 7047     		bx	lr
 990              	.L62:
 706:LIB/src/stm32f10x_i2c.c ****   }
 991              		.loc 1 706 5 is_stmt 1 view .LVU284
 706:LIB/src/stm32f10x_i2c.c ****   }
 992              		.loc 1 706 15 is_stmt 0 view .LVU285
 993 0014 0388     		ldrh	r3, [r0]
 994 0016 9BB2     		uxth	r3, r3
 995 0018 43F40063 		orr	r3, r3, #2048
 996 001c 0380     		strh	r3, [r0]	@ movhi
 997 001e 7047     		bx	lr
 998              		.cfi_endproc
 999              	.LFE47:
 1001              		.section	.text.I2C_SMBusAlertConfig,"ax",%progbits
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 31


 1002              		.align	1
 1003              		.global	I2C_SMBusAlertConfig
 1004              		.syntax unified
 1005              		.thumb
 1006              		.thumb_func
 1008              	I2C_SMBusAlertConfig:
 1009              	.LVL69:
 1010              	.LFB48:
 714:LIB/src/stm32f10x_i2c.c **** 
 715:LIB/src/stm32f10x_i2c.c **** /**
 716:LIB/src/stm32f10x_i2c.c ****   * @brief  Drives the SMBusAlert pin high or low for the specified I2C.
 717:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 718:LIB/src/stm32f10x_i2c.c ****   * @param  I2C_SMBusAlert: specifies SMBAlert pin level. 
 719:LIB/src/stm32f10x_i2c.c ****   *   This parameter can be one of the following values:
 720:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_SMBusAlert_Low: SMBAlert pin driven low
 721:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_SMBusAlert_High: SMBAlert pin driven high
 722:LIB/src/stm32f10x_i2c.c ****   * @retval None
 723:LIB/src/stm32f10x_i2c.c ****   */
 724:LIB/src/stm32f10x_i2c.c **** void I2C_SMBusAlertConfig(I2C_TypeDef* I2Cx, uint16_t I2C_SMBusAlert)
 725:LIB/src/stm32f10x_i2c.c **** {
 1011              		.loc 1 725 1 is_stmt 1 view -0
 1012              		.cfi_startproc
 1013              		@ args = 0, pretend = 0, frame = 0
 1014              		@ frame_needed = 0, uses_anonymous_args = 0
 1015              		@ link register save eliminated.
 726:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
 727:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 1016              		.loc 1 727 3 view .LVU287
 728:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_SMBUS_ALERT(I2C_SMBusAlert));
 1017              		.loc 1 728 3 view .LVU288
 729:LIB/src/stm32f10x_i2c.c ****   if (I2C_SMBusAlert == I2C_SMBusAlert_Low)
 1018              		.loc 1 729 3 view .LVU289
 1019              		.loc 1 729 6 is_stmt 0 view .LVU290
 1020 0000 B1F5005F 		cmp	r1, #8192
 1021 0004 06D0     		beq	.L66
 730:LIB/src/stm32f10x_i2c.c ****   {
 731:LIB/src/stm32f10x_i2c.c ****     /* Drive the SMBusAlert pin Low */
 732:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR1 |= I2C_SMBusAlert_Low;
 733:LIB/src/stm32f10x_i2c.c ****   }
 734:LIB/src/stm32f10x_i2c.c ****   else
 735:LIB/src/stm32f10x_i2c.c ****   {
 736:LIB/src/stm32f10x_i2c.c ****     /* Drive the SMBusAlert pin High  */
 737:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR1 &= I2C_SMBusAlert_High;
 1022              		.loc 1 737 5 is_stmt 1 view .LVU291
 1023              		.loc 1 737 15 is_stmt 0 view .LVU292
 1024 0006 0388     		ldrh	r3, [r0]
 1025 0008 9BB2     		uxth	r3, r3
 1026 000a 23F40053 		bic	r3, r3, #8192
 1027 000e 9BB2     		uxth	r3, r3
 1028 0010 0380     		strh	r3, [r0]	@ movhi
 738:LIB/src/stm32f10x_i2c.c ****   }
 739:LIB/src/stm32f10x_i2c.c **** }
 1029              		.loc 1 739 1 view .LVU293
 1030 0012 7047     		bx	lr
 1031              	.L66:
 732:LIB/src/stm32f10x_i2c.c ****   }
 1032              		.loc 1 732 5 is_stmt 1 view .LVU294
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 32


 732:LIB/src/stm32f10x_i2c.c ****   }
 1033              		.loc 1 732 15 is_stmt 0 view .LVU295
 1034 0014 0388     		ldrh	r3, [r0]
 1035 0016 9BB2     		uxth	r3, r3
 1036 0018 43F40053 		orr	r3, r3, #8192
 1037 001c 0380     		strh	r3, [r0]	@ movhi
 1038 001e 7047     		bx	lr
 1039              		.cfi_endproc
 1040              	.LFE48:
 1042              		.section	.text.I2C_TransmitPEC,"ax",%progbits
 1043              		.align	1
 1044              		.global	I2C_TransmitPEC
 1045              		.syntax unified
 1046              		.thumb
 1047              		.thumb_func
 1049              	I2C_TransmitPEC:
 1050              	.LVL70:
 1051              	.LFB49:
 740:LIB/src/stm32f10x_i2c.c **** 
 741:LIB/src/stm32f10x_i2c.c **** /**
 742:LIB/src/stm32f10x_i2c.c ****   * @brief  Enables or disables the specified I2C PEC transfer.
 743:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 744:LIB/src/stm32f10x_i2c.c ****   * @param  NewState: new state of the I2C PEC transmission.
 745:LIB/src/stm32f10x_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 746:LIB/src/stm32f10x_i2c.c ****   * @retval None
 747:LIB/src/stm32f10x_i2c.c ****   */
 748:LIB/src/stm32f10x_i2c.c **** void I2C_TransmitPEC(I2C_TypeDef* I2Cx, FunctionalState NewState)
 749:LIB/src/stm32f10x_i2c.c **** {
 1052              		.loc 1 749 1 is_stmt 1 view -0
 1053              		.cfi_startproc
 1054              		@ args = 0, pretend = 0, frame = 0
 1055              		@ frame_needed = 0, uses_anonymous_args = 0
 1056              		@ link register save eliminated.
 750:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
 751:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 1057              		.loc 1 751 3 view .LVU297
 752:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 1058              		.loc 1 752 3 view .LVU298
 753:LIB/src/stm32f10x_i2c.c ****   if (NewState != DISABLE)
 1059              		.loc 1 753 3 view .LVU299
 1060              		.loc 1 753 6 is_stmt 0 view .LVU300
 1061 0000 29B1     		cbz	r1, .L68
 754:LIB/src/stm32f10x_i2c.c ****   {
 755:LIB/src/stm32f10x_i2c.c ****     /* Enable the selected I2C PEC transmission */
 756:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR1 |= CR1_PEC_Set;
 1062              		.loc 1 756 5 is_stmt 1 view .LVU301
 1063              		.loc 1 756 15 is_stmt 0 view .LVU302
 1064 0002 0388     		ldrh	r3, [r0]
 1065 0004 9BB2     		uxth	r3, r3
 1066 0006 43F48053 		orr	r3, r3, #4096
 1067 000a 0380     		strh	r3, [r0]	@ movhi
 1068 000c 7047     		bx	lr
 1069              	.L68:
 757:LIB/src/stm32f10x_i2c.c ****   }
 758:LIB/src/stm32f10x_i2c.c ****   else
 759:LIB/src/stm32f10x_i2c.c ****   {
 760:LIB/src/stm32f10x_i2c.c ****     /* Disable the selected I2C PEC transmission */
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 33


 761:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR1 &= CR1_PEC_Reset;
 1070              		.loc 1 761 5 is_stmt 1 view .LVU303
 1071              		.loc 1 761 15 is_stmt 0 view .LVU304
 1072 000e 0388     		ldrh	r3, [r0]
 1073 0010 9BB2     		uxth	r3, r3
 1074 0012 23F48053 		bic	r3, r3, #4096
 1075 0016 9BB2     		uxth	r3, r3
 1076 0018 0380     		strh	r3, [r0]	@ movhi
 762:LIB/src/stm32f10x_i2c.c ****   }
 763:LIB/src/stm32f10x_i2c.c **** }
 1077              		.loc 1 763 1 view .LVU305
 1078 001a 7047     		bx	lr
 1079              		.cfi_endproc
 1080              	.LFE49:
 1082              		.section	.text.I2C_PECPositionConfig,"ax",%progbits
 1083              		.align	1
 1084              		.global	I2C_PECPositionConfig
 1085              		.syntax unified
 1086              		.thumb
 1087              		.thumb_func
 1089              	I2C_PECPositionConfig:
 1090              	.LVL71:
 1091              	.LFB50:
 764:LIB/src/stm32f10x_i2c.c **** 
 765:LIB/src/stm32f10x_i2c.c **** /**
 766:LIB/src/stm32f10x_i2c.c ****   * @brief  Selects the specified I2C PEC position.
 767:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 768:LIB/src/stm32f10x_i2c.c ****   * @param  I2C_PECPosition: specifies the PEC position. 
 769:LIB/src/stm32f10x_i2c.c ****   *   This parameter can be one of the following values:
 770:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_PECPosition_Next: indicates that the next byte is PEC
 771:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_PECPosition_Current: indicates that current byte is PEC
 772:LIB/src/stm32f10x_i2c.c ****   *       
 773:LIB/src/stm32f10x_i2c.c ****   * @note    This function configures the same bit (POS) as I2C_NACKPositionConfig()
 774:LIB/src/stm32f10x_i2c.c ****   *          but is intended to be used in SMBUS mode while I2C_NACKPositionConfig() 
 775:LIB/src/stm32f10x_i2c.c ****   *          is intended to used in I2C mode.
 776:LIB/src/stm32f10x_i2c.c ****   *               
 777:LIB/src/stm32f10x_i2c.c ****   * @retval None
 778:LIB/src/stm32f10x_i2c.c ****   */
 779:LIB/src/stm32f10x_i2c.c **** void I2C_PECPositionConfig(I2C_TypeDef* I2Cx, uint16_t I2C_PECPosition)
 780:LIB/src/stm32f10x_i2c.c **** {
 1092              		.loc 1 780 1 is_stmt 1 view -0
 1093              		.cfi_startproc
 1094              		@ args = 0, pretend = 0, frame = 0
 1095              		@ frame_needed = 0, uses_anonymous_args = 0
 1096              		@ link register save eliminated.
 781:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
 782:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 1097              		.loc 1 782 3 view .LVU307
 783:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_PEC_POSITION(I2C_PECPosition));
 1098              		.loc 1 783 3 view .LVU308
 784:LIB/src/stm32f10x_i2c.c ****   if (I2C_PECPosition == I2C_PECPosition_Next)
 1099              		.loc 1 784 3 view .LVU309
 1100              		.loc 1 784 6 is_stmt 0 view .LVU310
 1101 0000 B1F5006F 		cmp	r1, #2048
 1102 0004 06D0     		beq	.L73
 785:LIB/src/stm32f10x_i2c.c ****   {
 786:LIB/src/stm32f10x_i2c.c ****     /* Next byte in shift register is PEC */
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 34


 787:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR1 |= I2C_PECPosition_Next;
 788:LIB/src/stm32f10x_i2c.c ****   }
 789:LIB/src/stm32f10x_i2c.c ****   else
 790:LIB/src/stm32f10x_i2c.c ****   {
 791:LIB/src/stm32f10x_i2c.c ****     /* Current byte in shift register is PEC */
 792:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR1 &= I2C_PECPosition_Current;
 1103              		.loc 1 792 5 is_stmt 1 view .LVU311
 1104              		.loc 1 792 15 is_stmt 0 view .LVU312
 1105 0006 0388     		ldrh	r3, [r0]
 1106 0008 9BB2     		uxth	r3, r3
 1107 000a 23F40063 		bic	r3, r3, #2048
 1108 000e 9BB2     		uxth	r3, r3
 1109 0010 0380     		strh	r3, [r0]	@ movhi
 793:LIB/src/stm32f10x_i2c.c ****   }
 794:LIB/src/stm32f10x_i2c.c **** }
 1110              		.loc 1 794 1 view .LVU313
 1111 0012 7047     		bx	lr
 1112              	.L73:
 787:LIB/src/stm32f10x_i2c.c ****   }
 1113              		.loc 1 787 5 is_stmt 1 view .LVU314
 787:LIB/src/stm32f10x_i2c.c ****   }
 1114              		.loc 1 787 15 is_stmt 0 view .LVU315
 1115 0014 0388     		ldrh	r3, [r0]
 1116 0016 9BB2     		uxth	r3, r3
 1117 0018 43F40063 		orr	r3, r3, #2048
 1118 001c 0380     		strh	r3, [r0]	@ movhi
 1119 001e 7047     		bx	lr
 1120              		.cfi_endproc
 1121              	.LFE50:
 1123              		.section	.text.I2C_CalculatePEC,"ax",%progbits
 1124              		.align	1
 1125              		.global	I2C_CalculatePEC
 1126              		.syntax unified
 1127              		.thumb
 1128              		.thumb_func
 1130              	I2C_CalculatePEC:
 1131              	.LVL72:
 1132              	.LFB51:
 795:LIB/src/stm32f10x_i2c.c **** 
 796:LIB/src/stm32f10x_i2c.c **** /**
 797:LIB/src/stm32f10x_i2c.c ****   * @brief  Enables or disables the PEC value calculation of the transferred bytes.
 798:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 799:LIB/src/stm32f10x_i2c.c ****   * @param  NewState: new state of the I2Cx PEC value calculation.
 800:LIB/src/stm32f10x_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 801:LIB/src/stm32f10x_i2c.c ****   * @retval None
 802:LIB/src/stm32f10x_i2c.c ****   */
 803:LIB/src/stm32f10x_i2c.c **** void I2C_CalculatePEC(I2C_TypeDef* I2Cx, FunctionalState NewState)
 804:LIB/src/stm32f10x_i2c.c **** {
 1133              		.loc 1 804 1 is_stmt 1 view -0
 1134              		.cfi_startproc
 1135              		@ args = 0, pretend = 0, frame = 0
 1136              		@ frame_needed = 0, uses_anonymous_args = 0
 1137              		@ link register save eliminated.
 805:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
 806:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 1138              		.loc 1 806 3 view .LVU317
 807:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 35


 1139              		.loc 1 807 3 view .LVU318
 808:LIB/src/stm32f10x_i2c.c ****   if (NewState != DISABLE)
 1140              		.loc 1 808 3 view .LVU319
 1141              		.loc 1 808 6 is_stmt 0 view .LVU320
 1142 0000 29B1     		cbz	r1, .L75
 809:LIB/src/stm32f10x_i2c.c ****   {
 810:LIB/src/stm32f10x_i2c.c ****     /* Enable the selected I2C PEC calculation */
 811:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR1 |= CR1_ENPEC_Set;
 1143              		.loc 1 811 5 is_stmt 1 view .LVU321
 1144              		.loc 1 811 15 is_stmt 0 view .LVU322
 1145 0002 0388     		ldrh	r3, [r0]
 1146 0004 9BB2     		uxth	r3, r3
 1147 0006 43F02003 		orr	r3, r3, #32
 1148 000a 0380     		strh	r3, [r0]	@ movhi
 1149 000c 7047     		bx	lr
 1150              	.L75:
 812:LIB/src/stm32f10x_i2c.c ****   }
 813:LIB/src/stm32f10x_i2c.c ****   else
 814:LIB/src/stm32f10x_i2c.c ****   {
 815:LIB/src/stm32f10x_i2c.c ****     /* Disable the selected I2C PEC calculation */
 816:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR1 &= CR1_ENPEC_Reset;
 1151              		.loc 1 816 5 is_stmt 1 view .LVU323
 1152              		.loc 1 816 15 is_stmt 0 view .LVU324
 1153 000e 0388     		ldrh	r3, [r0]
 1154 0010 9BB2     		uxth	r3, r3
 1155 0012 23F02003 		bic	r3, r3, #32
 1156 0016 9BB2     		uxth	r3, r3
 1157 0018 0380     		strh	r3, [r0]	@ movhi
 817:LIB/src/stm32f10x_i2c.c ****   }
 818:LIB/src/stm32f10x_i2c.c **** }
 1158              		.loc 1 818 1 view .LVU325
 1159 001a 7047     		bx	lr
 1160              		.cfi_endproc
 1161              	.LFE51:
 1163              		.section	.text.I2C_GetPEC,"ax",%progbits
 1164              		.align	1
 1165              		.global	I2C_GetPEC
 1166              		.syntax unified
 1167              		.thumb
 1168              		.thumb_func
 1170              	I2C_GetPEC:
 1171              	.LVL73:
 1172              	.LFB52:
 819:LIB/src/stm32f10x_i2c.c **** 
 820:LIB/src/stm32f10x_i2c.c **** /**
 821:LIB/src/stm32f10x_i2c.c ****   * @brief  Returns the PEC value for the specified I2C.
 822:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 823:LIB/src/stm32f10x_i2c.c ****   * @retval The PEC value.
 824:LIB/src/stm32f10x_i2c.c ****   */
 825:LIB/src/stm32f10x_i2c.c **** uint8_t I2C_GetPEC(I2C_TypeDef* I2Cx)
 826:LIB/src/stm32f10x_i2c.c **** {
 1173              		.loc 1 826 1 is_stmt 1 view -0
 1174              		.cfi_startproc
 1175              		@ args = 0, pretend = 0, frame = 0
 1176              		@ frame_needed = 0, uses_anonymous_args = 0
 1177              		@ link register save eliminated.
 827:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 36


 828:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 1178              		.loc 1 828 3 view .LVU327
 829:LIB/src/stm32f10x_i2c.c ****   /* Return the selected I2C PEC value */
 830:LIB/src/stm32f10x_i2c.c ****   return ((I2Cx->SR2) >> 8);
 1179              		.loc 1 830 3 view .LVU328
 1180              		.loc 1 830 16 is_stmt 0 view .LVU329
 1181 0000 008B     		ldrh	r0, [r0, #24]
 1182              	.LVL74:
 831:LIB/src/stm32f10x_i2c.c **** }
 1183              		.loc 1 831 1 view .LVU330
 1184 0002 C0F30720 		ubfx	r0, r0, #8, #8
 1185 0006 7047     		bx	lr
 1186              		.cfi_endproc
 1187              	.LFE52:
 1189              		.section	.text.I2C_ARPCmd,"ax",%progbits
 1190              		.align	1
 1191              		.global	I2C_ARPCmd
 1192              		.syntax unified
 1193              		.thumb
 1194              		.thumb_func
 1196              	I2C_ARPCmd:
 1197              	.LVL75:
 1198              	.LFB53:
 832:LIB/src/stm32f10x_i2c.c **** 
 833:LIB/src/stm32f10x_i2c.c **** /**
 834:LIB/src/stm32f10x_i2c.c ****   * @brief  Enables or disables the specified I2C ARP.
 835:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 836:LIB/src/stm32f10x_i2c.c ****   * @param  NewState: new state of the I2Cx ARP. 
 837:LIB/src/stm32f10x_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 838:LIB/src/stm32f10x_i2c.c ****   * @retval None
 839:LIB/src/stm32f10x_i2c.c ****   */
 840:LIB/src/stm32f10x_i2c.c **** void I2C_ARPCmd(I2C_TypeDef* I2Cx, FunctionalState NewState)
 841:LIB/src/stm32f10x_i2c.c **** {
 1199              		.loc 1 841 1 is_stmt 1 view -0
 1200              		.cfi_startproc
 1201              		@ args = 0, pretend = 0, frame = 0
 1202              		@ frame_needed = 0, uses_anonymous_args = 0
 1203              		@ link register save eliminated.
 842:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
 843:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 1204              		.loc 1 843 3 view .LVU332
 844:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 1205              		.loc 1 844 3 view .LVU333
 845:LIB/src/stm32f10x_i2c.c ****   if (NewState != DISABLE)
 1206              		.loc 1 845 3 view .LVU334
 1207              		.loc 1 845 6 is_stmt 0 view .LVU335
 1208 0000 29B1     		cbz	r1, .L79
 846:LIB/src/stm32f10x_i2c.c ****   {
 847:LIB/src/stm32f10x_i2c.c ****     /* Enable the selected I2C ARP */
 848:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR1 |= CR1_ENARP_Set;
 1209              		.loc 1 848 5 is_stmt 1 view .LVU336
 1210              		.loc 1 848 15 is_stmt 0 view .LVU337
 1211 0002 0388     		ldrh	r3, [r0]
 1212 0004 9BB2     		uxth	r3, r3
 1213 0006 43F01003 		orr	r3, r3, #16
 1214 000a 0380     		strh	r3, [r0]	@ movhi
 1215 000c 7047     		bx	lr
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 37


 1216              	.L79:
 849:LIB/src/stm32f10x_i2c.c ****   }
 850:LIB/src/stm32f10x_i2c.c ****   else
 851:LIB/src/stm32f10x_i2c.c ****   {
 852:LIB/src/stm32f10x_i2c.c ****     /* Disable the selected I2C ARP */
 853:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR1 &= CR1_ENARP_Reset;
 1217              		.loc 1 853 5 is_stmt 1 view .LVU338
 1218              		.loc 1 853 15 is_stmt 0 view .LVU339
 1219 000e 0388     		ldrh	r3, [r0]
 1220 0010 9BB2     		uxth	r3, r3
 1221 0012 23F01003 		bic	r3, r3, #16
 1222 0016 9BB2     		uxth	r3, r3
 1223 0018 0380     		strh	r3, [r0]	@ movhi
 854:LIB/src/stm32f10x_i2c.c ****   }
 855:LIB/src/stm32f10x_i2c.c **** }
 1224              		.loc 1 855 1 view .LVU340
 1225 001a 7047     		bx	lr
 1226              		.cfi_endproc
 1227              	.LFE53:
 1229              		.section	.text.I2C_StretchClockCmd,"ax",%progbits
 1230              		.align	1
 1231              		.global	I2C_StretchClockCmd
 1232              		.syntax unified
 1233              		.thumb
 1234              		.thumb_func
 1236              	I2C_StretchClockCmd:
 1237              	.LVL76:
 1238              	.LFB54:
 856:LIB/src/stm32f10x_i2c.c **** 
 857:LIB/src/stm32f10x_i2c.c **** /**
 858:LIB/src/stm32f10x_i2c.c ****   * @brief  Enables or disables the specified I2C Clock stretching.
 859:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 860:LIB/src/stm32f10x_i2c.c ****   * @param  NewState: new state of the I2Cx Clock stretching.
 861:LIB/src/stm32f10x_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 862:LIB/src/stm32f10x_i2c.c ****   * @retval None
 863:LIB/src/stm32f10x_i2c.c ****   */
 864:LIB/src/stm32f10x_i2c.c **** void I2C_StretchClockCmd(I2C_TypeDef* I2Cx, FunctionalState NewState)
 865:LIB/src/stm32f10x_i2c.c **** {
 1239              		.loc 1 865 1 is_stmt 1 view -0
 1240              		.cfi_startproc
 1241              		@ args = 0, pretend = 0, frame = 0
 1242              		@ frame_needed = 0, uses_anonymous_args = 0
 1243              		@ link register save eliminated.
 866:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
 867:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 1244              		.loc 1 867 3 view .LVU342
 868:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 1245              		.loc 1 868 3 view .LVU343
 869:LIB/src/stm32f10x_i2c.c ****   if (NewState == DISABLE)
 1246              		.loc 1 869 3 view .LVU344
 1247              		.loc 1 869 6 is_stmt 0 view .LVU345
 1248 0000 29B9     		cbnz	r1, .L82
 870:LIB/src/stm32f10x_i2c.c ****   {
 871:LIB/src/stm32f10x_i2c.c ****     /* Enable the selected I2C Clock stretching */
 872:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR1 |= CR1_NOSTRETCH_Set;
 1249              		.loc 1 872 5 is_stmt 1 view .LVU346
 1250              		.loc 1 872 15 is_stmt 0 view .LVU347
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 38


 1251 0002 0388     		ldrh	r3, [r0]
 1252 0004 9BB2     		uxth	r3, r3
 1253 0006 43F08003 		orr	r3, r3, #128
 1254 000a 0380     		strh	r3, [r0]	@ movhi
 1255 000c 7047     		bx	lr
 1256              	.L82:
 873:LIB/src/stm32f10x_i2c.c ****   }
 874:LIB/src/stm32f10x_i2c.c ****   else
 875:LIB/src/stm32f10x_i2c.c ****   {
 876:LIB/src/stm32f10x_i2c.c ****     /* Disable the selected I2C Clock stretching */
 877:LIB/src/stm32f10x_i2c.c ****     I2Cx->CR1 &= CR1_NOSTRETCH_Reset;
 1257              		.loc 1 877 5 is_stmt 1 view .LVU348
 1258              		.loc 1 877 15 is_stmt 0 view .LVU349
 1259 000e 0388     		ldrh	r3, [r0]
 1260 0010 9BB2     		uxth	r3, r3
 1261 0012 23F08003 		bic	r3, r3, #128
 1262 0016 9BB2     		uxth	r3, r3
 1263 0018 0380     		strh	r3, [r0]	@ movhi
 878:LIB/src/stm32f10x_i2c.c ****   }
 879:LIB/src/stm32f10x_i2c.c **** }
 1264              		.loc 1 879 1 view .LVU350
 1265 001a 7047     		bx	lr
 1266              		.cfi_endproc
 1267              	.LFE54:
 1269              		.section	.text.I2C_FastModeDutyCycleConfig,"ax",%progbits
 1270              		.align	1
 1271              		.global	I2C_FastModeDutyCycleConfig
 1272              		.syntax unified
 1273              		.thumb
 1274              		.thumb_func
 1276              	I2C_FastModeDutyCycleConfig:
 1277              	.LVL77:
 1278              	.LFB55:
 880:LIB/src/stm32f10x_i2c.c **** 
 881:LIB/src/stm32f10x_i2c.c **** /**
 882:LIB/src/stm32f10x_i2c.c ****   * @brief  Selects the specified I2C fast mode duty cycle.
 883:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 884:LIB/src/stm32f10x_i2c.c ****   * @param  I2C_DutyCycle: specifies the fast mode duty cycle.
 885:LIB/src/stm32f10x_i2c.c ****   *   This parameter can be one of the following values:
 886:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_DutyCycle_2: I2C fast mode Tlow/Thigh = 2
 887:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_DutyCycle_16_9: I2C fast mode Tlow/Thigh = 16/9
 888:LIB/src/stm32f10x_i2c.c ****   * @retval None
 889:LIB/src/stm32f10x_i2c.c ****   */
 890:LIB/src/stm32f10x_i2c.c **** void I2C_FastModeDutyCycleConfig(I2C_TypeDef* I2Cx, uint16_t I2C_DutyCycle)
 891:LIB/src/stm32f10x_i2c.c **** {
 1279              		.loc 1 891 1 is_stmt 1 view -0
 1280              		.cfi_startproc
 1281              		@ args = 0, pretend = 0, frame = 0
 1282              		@ frame_needed = 0, uses_anonymous_args = 0
 1283              		@ link register save eliminated.
 892:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
 893:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 1284              		.loc 1 893 3 view .LVU352
 894:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_DUTY_CYCLE(I2C_DutyCycle));
 1285              		.loc 1 894 3 view .LVU353
 895:LIB/src/stm32f10x_i2c.c ****   if (I2C_DutyCycle != I2C_DutyCycle_16_9)
 1286              		.loc 1 895 3 view .LVU354
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 39


 1287              		.loc 1 895 6 is_stmt 0 view .LVU355
 1288 0000 B1F5804F 		cmp	r1, #16384
 1289 0004 06D0     		beq	.L85
 896:LIB/src/stm32f10x_i2c.c ****   {
 897:LIB/src/stm32f10x_i2c.c ****     /* I2C fast mode Tlow/Thigh=2 */
 898:LIB/src/stm32f10x_i2c.c ****     I2Cx->CCR &= I2C_DutyCycle_2;
 1290              		.loc 1 898 5 is_stmt 1 view .LVU356
 1291              		.loc 1 898 15 is_stmt 0 view .LVU357
 1292 0006 838B     		ldrh	r3, [r0, #28]
 1293 0008 9BB2     		uxth	r3, r3
 1294 000a 23F48043 		bic	r3, r3, #16384
 1295 000e 9BB2     		uxth	r3, r3
 1296 0010 8383     		strh	r3, [r0, #28]	@ movhi
 1297 0012 7047     		bx	lr
 1298              	.L85:
 899:LIB/src/stm32f10x_i2c.c ****   }
 900:LIB/src/stm32f10x_i2c.c ****   else
 901:LIB/src/stm32f10x_i2c.c ****   {
 902:LIB/src/stm32f10x_i2c.c ****     /* I2C fast mode Tlow/Thigh=16/9 */
 903:LIB/src/stm32f10x_i2c.c ****     I2Cx->CCR |= I2C_DutyCycle_16_9;
 1299              		.loc 1 903 5 is_stmt 1 view .LVU358
 1300              		.loc 1 903 15 is_stmt 0 view .LVU359
 1301 0014 838B     		ldrh	r3, [r0, #28]
 1302 0016 9BB2     		uxth	r3, r3
 1303 0018 43F48043 		orr	r3, r3, #16384
 1304 001c 8383     		strh	r3, [r0, #28]	@ movhi
 904:LIB/src/stm32f10x_i2c.c ****   }
 905:LIB/src/stm32f10x_i2c.c **** }
 1305              		.loc 1 905 1 view .LVU360
 1306 001e 7047     		bx	lr
 1307              		.cfi_endproc
 1308              	.LFE55:
 1310              		.section	.text.I2C_CheckEvent,"ax",%progbits
 1311              		.align	1
 1312              		.global	I2C_CheckEvent
 1313              		.syntax unified
 1314              		.thumb
 1315              		.thumb_func
 1317              	I2C_CheckEvent:
 1318              	.LVL78:
 1319              	.LFB56:
 906:LIB/src/stm32f10x_i2c.c **** 
 907:LIB/src/stm32f10x_i2c.c **** 
 908:LIB/src/stm32f10x_i2c.c **** 
 909:LIB/src/stm32f10x_i2c.c **** /**
 910:LIB/src/stm32f10x_i2c.c ****  * @brief
 911:LIB/src/stm32f10x_i2c.c ****  ****************************************************************************************
 912:LIB/src/stm32f10x_i2c.c ****  *
 913:LIB/src/stm32f10x_i2c.c ****  *                         I2C State Monitoring Functions
 914:LIB/src/stm32f10x_i2c.c ****  *                       
 915:LIB/src/stm32f10x_i2c.c ****  ****************************************************************************************   
 916:LIB/src/stm32f10x_i2c.c ****  * This I2C driver provides three different ways for I2C state monitoring
 917:LIB/src/stm32f10x_i2c.c ****  *  depending on the application requirements and constraints:
 918:LIB/src/stm32f10x_i2c.c ****  *        
 919:LIB/src/stm32f10x_i2c.c ****  *  
 920:LIB/src/stm32f10x_i2c.c ****  * 1) Basic state monitoring:
 921:LIB/src/stm32f10x_i2c.c ****  *    Using I2C_CheckEvent() function:
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 40


 922:LIB/src/stm32f10x_i2c.c ****  *    It compares the status registers (SR1 and SR2) content to a given event
 923:LIB/src/stm32f10x_i2c.c ****  *    (can be the combination of one or more flags).
 924:LIB/src/stm32f10x_i2c.c ****  *    It returns SUCCESS if the current status includes the given flags 
 925:LIB/src/stm32f10x_i2c.c ****  *    and returns ERROR if one or more flags are missing in the current status.
 926:LIB/src/stm32f10x_i2c.c ****  *    - When to use:
 927:LIB/src/stm32f10x_i2c.c ****  *      - This function is suitable for most applications as well as for startup 
 928:LIB/src/stm32f10x_i2c.c ****  *      activity since the events are fully described in the product reference manual 
 929:LIB/src/stm32f10x_i2c.c ****  *      (RM0008).
 930:LIB/src/stm32f10x_i2c.c ****  *      - It is also suitable for users who need to define their own events.
 931:LIB/src/stm32f10x_i2c.c ****  *    - Limitations:
 932:LIB/src/stm32f10x_i2c.c ****  *      - If an error occurs (ie. error flags are set besides to the monitored flags),
 933:LIB/src/stm32f10x_i2c.c ****  *        the I2C_CheckEvent() function may return SUCCESS despite the communication
 934:LIB/src/stm32f10x_i2c.c ****  *        hold or corrupted real state. 
 935:LIB/src/stm32f10x_i2c.c ****  *        In this case, it is advised to use error interrupts to monitor the error
 936:LIB/src/stm32f10x_i2c.c ****  *        events and handle them in the interrupt IRQ handler.
 937:LIB/src/stm32f10x_i2c.c ****  *        
 938:LIB/src/stm32f10x_i2c.c ****  *        @note 
 939:LIB/src/stm32f10x_i2c.c ****  *        For error management, it is advised to use the following functions:
 940:LIB/src/stm32f10x_i2c.c ****  *          - I2C_ITConfig() to configure and enable the error interrupts (I2C_IT_ERR).
 941:LIB/src/stm32f10x_i2c.c ****  *          - I2Cx_ER_IRQHandler() which is called when the error interrupt occurs.
 942:LIB/src/stm32f10x_i2c.c ****  *            Where x is the peripheral instance (I2C1, I2C2 ...)
 943:LIB/src/stm32f10x_i2c.c ****  *          - I2C_GetFlagStatus() or I2C_GetITStatus() to be called into I2Cx_ER_IRQHandler() 
 944:LIB/src/stm32f10x_i2c.c ****  *            in order to determine which error occured.
 945:LIB/src/stm32f10x_i2c.c ****  *          - I2C_ClearFlag() or I2C_ClearITPendingBit() and/or I2C_SoftwareResetCmd()
 946:LIB/src/stm32f10x_i2c.c ****  *            and/or I2C_GenerateStop() in order to clear the error flag and source,
 947:LIB/src/stm32f10x_i2c.c ****  *            and return to correct communication status.
 948:LIB/src/stm32f10x_i2c.c ****  *            
 949:LIB/src/stm32f10x_i2c.c ****  *
 950:LIB/src/stm32f10x_i2c.c ****  *  2) Advanced state monitoring:
 951:LIB/src/stm32f10x_i2c.c ****  *     Using the function I2C_GetLastEvent() which returns the image of both status 
 952:LIB/src/stm32f10x_i2c.c ****  *     registers in a single word (uint32_t) (Status Register 2 value is shifted left 
 953:LIB/src/stm32f10x_i2c.c ****  *     by 16 bits and concatenated to Status Register 1).
 954:LIB/src/stm32f10x_i2c.c ****  *     - When to use:
 955:LIB/src/stm32f10x_i2c.c ****  *       - This function is suitable for the same applications above but it allows to
 956:LIB/src/stm32f10x_i2c.c ****  *         overcome the mentioned limitation of I2C_GetFlagStatus() function.
 957:LIB/src/stm32f10x_i2c.c ****  *         The returned value could be compared to events already defined in the 
 958:LIB/src/stm32f10x_i2c.c ****  *         library (stm32f10x_i2c.h) or to custom values defined by user.
 959:LIB/src/stm32f10x_i2c.c ****  *       - This function is suitable when multiple flags are monitored at the same time.
 960:LIB/src/stm32f10x_i2c.c ****  *       - At the opposite of I2C_CheckEvent() function, this function allows user to
 961:LIB/src/stm32f10x_i2c.c ****  *         choose when an event is accepted (when all events flags are set and no 
 962:LIB/src/stm32f10x_i2c.c ****  *         other flags are set or just when the needed flags are set like 
 963:LIB/src/stm32f10x_i2c.c ****  *         I2C_CheckEvent() function).
 964:LIB/src/stm32f10x_i2c.c ****  *     - Limitations:
 965:LIB/src/stm32f10x_i2c.c ****  *       - User may need to define his own events.
 966:LIB/src/stm32f10x_i2c.c ****  *       - Same remark concerning the error management is applicable for this 
 967:LIB/src/stm32f10x_i2c.c ****  *         function if user decides to check only regular communication flags (and 
 968:LIB/src/stm32f10x_i2c.c ****  *         ignores error flags).
 969:LIB/src/stm32f10x_i2c.c ****  *     
 970:LIB/src/stm32f10x_i2c.c ****  *
 971:LIB/src/stm32f10x_i2c.c ****  *  3) Flag-based state monitoring:
 972:LIB/src/stm32f10x_i2c.c ****  *     Using the function I2C_GetFlagStatus() which simply returns the status of 
 973:LIB/src/stm32f10x_i2c.c ****  *     one single flag (ie. I2C_FLAG_RXNE ...). 
 974:LIB/src/stm32f10x_i2c.c ****  *     - When to use:
 975:LIB/src/stm32f10x_i2c.c ****  *        - This function could be used for specific applications or in debug phase.
 976:LIB/src/stm32f10x_i2c.c ****  *        - It is suitable when only one flag checking is needed (most I2C events 
 977:LIB/src/stm32f10x_i2c.c ****  *          are monitored through multiple flags).
 978:LIB/src/stm32f10x_i2c.c ****  *     - Limitations: 
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 41


 979:LIB/src/stm32f10x_i2c.c ****  *        - When calling this function, the Status register is accessed. Some flags are
 980:LIB/src/stm32f10x_i2c.c ****  *          cleared when the status register is accessed. So checking the status
 981:LIB/src/stm32f10x_i2c.c ****  *          of one Flag, may clear other ones.
 982:LIB/src/stm32f10x_i2c.c ****  *        - Function may need to be called twice or more in order to monitor one 
 983:LIB/src/stm32f10x_i2c.c ****  *          single event.
 984:LIB/src/stm32f10x_i2c.c ****  *
 985:LIB/src/stm32f10x_i2c.c ****  *  For detailed description of Events, please refer to section I2C_Events in 
 986:LIB/src/stm32f10x_i2c.c ****  *  stm32f10x_i2c.h file.
 987:LIB/src/stm32f10x_i2c.c ****  *  
 988:LIB/src/stm32f10x_i2c.c ****  */
 989:LIB/src/stm32f10x_i2c.c **** 
 990:LIB/src/stm32f10x_i2c.c **** /**
 991:LIB/src/stm32f10x_i2c.c ****  * 
 992:LIB/src/stm32f10x_i2c.c ****  *  1) Basic state monitoring
 993:LIB/src/stm32f10x_i2c.c ****  *******************************************************************************
 994:LIB/src/stm32f10x_i2c.c ****  */
 995:LIB/src/stm32f10x_i2c.c **** 
 996:LIB/src/stm32f10x_i2c.c **** /**
 997:LIB/src/stm32f10x_i2c.c ****   * @brief  Checks whether the last I2Cx Event is equal to the one passed
 998:LIB/src/stm32f10x_i2c.c ****   *   as parameter.
 999:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
1000:LIB/src/stm32f10x_i2c.c ****   * @param  I2C_EVENT: specifies the event to be checked. 
1001:LIB/src/stm32f10x_i2c.c ****   *   This parameter can be one of the following values:
1002:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_SLAVE_TRANSMITTER_ADDRESS_MATCHED           : EV1
1003:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_SLAVE_RECEIVER_ADDRESS_MATCHED              : EV1
1004:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_SLAVE_TRANSMITTER_SECONDADDRESS_MATCHED     : EV1
1005:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_SLAVE_RECEIVER_SECONDADDRESS_MATCHED        : EV1
1006:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_SLAVE_GENERALCALLADDRESS_MATCHED            : EV1
1007:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_SLAVE_BYTE_RECEIVED                         : EV2
1008:LIB/src/stm32f10x_i2c.c ****   *     @arg (I2C_EVENT_SLAVE_BYTE_RECEIVED | I2C_FLAG_DUALF)      : EV2
1009:LIB/src/stm32f10x_i2c.c ****   *     @arg (I2C_EVENT_SLAVE_BYTE_RECEIVED | I2C_FLAG_GENCALL)    : EV2
1010:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_SLAVE_BYTE_TRANSMITTED                      : EV3
1011:LIB/src/stm32f10x_i2c.c ****   *     @arg (I2C_EVENT_SLAVE_BYTE_TRANSMITTED | I2C_FLAG_DUALF)   : EV3
1012:LIB/src/stm32f10x_i2c.c ****   *     @arg (I2C_EVENT_SLAVE_BYTE_TRANSMITTED | I2C_FLAG_GENCALL) : EV3
1013:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_SLAVE_ACK_FAILURE                           : EV3_2
1014:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_SLAVE_STOP_DETECTED                         : EV4
1015:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_MASTER_MODE_SELECT                          : EV5
1016:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_MASTER_TRANSMITTER_MODE_SELECTED            : EV6     
1017:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_MASTER_RECEIVER_MODE_SELECTED               : EV6
1018:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_MASTER_BYTE_RECEIVED                        : EV7
1019:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_MASTER_BYTE_TRANSMITTING                    : EV8
1020:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_MASTER_BYTE_TRANSMITTED                     : EV8_2
1021:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_MASTER_MODE_ADDRESS10                       : EV9
1022:LIB/src/stm32f10x_i2c.c ****   *     
1023:LIB/src/stm32f10x_i2c.c ****   * @note: For detailed description of Events, please refer to section 
1024:LIB/src/stm32f10x_i2c.c ****   *    I2C_Events in stm32f10x_i2c.h file.
1025:LIB/src/stm32f10x_i2c.c ****   *    
1026:LIB/src/stm32f10x_i2c.c ****   * @retval An ErrorStatus enumeration value:
1027:LIB/src/stm32f10x_i2c.c ****   * - SUCCESS: Last event is equal to the I2C_EVENT
1028:LIB/src/stm32f10x_i2c.c ****   * - ERROR: Last event is different from the I2C_EVENT
1029:LIB/src/stm32f10x_i2c.c ****   */
1030:LIB/src/stm32f10x_i2c.c **** ErrorStatus I2C_CheckEvent(I2C_TypeDef* I2Cx, uint32_t I2C_EVENT)
1031:LIB/src/stm32f10x_i2c.c **** {
 1320              		.loc 1 1031 1 is_stmt 1 view -0
 1321              		.cfi_startproc
 1322              		@ args = 0, pretend = 0, frame = 0
 1323              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 42


 1324              		@ link register save eliminated.
1032:LIB/src/stm32f10x_i2c.c ****   uint32_t lastevent = 0;
 1325              		.loc 1 1032 3 view .LVU362
1033:LIB/src/stm32f10x_i2c.c ****   uint32_t flag1 = 0, flag2 = 0;
 1326              		.loc 1 1033 3 view .LVU363
1034:LIB/src/stm32f10x_i2c.c ****   ErrorStatus status = ERROR;
 1327              		.loc 1 1034 3 view .LVU364
1035:LIB/src/stm32f10x_i2c.c **** 
1036:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
1037:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 1328              		.loc 1 1037 3 view .LVU365
1038:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_EVENT(I2C_EVENT));
 1329              		.loc 1 1038 3 view .LVU366
1039:LIB/src/stm32f10x_i2c.c **** 
1040:LIB/src/stm32f10x_i2c.c ****   /* Read the I2Cx status register */
1041:LIB/src/stm32f10x_i2c.c ****   flag1 = I2Cx->SR1;
 1330              		.loc 1 1041 3 view .LVU367
 1331              		.loc 1 1041 15 is_stmt 0 view .LVU368
 1332 0000 838A     		ldrh	r3, [r0, #20]
 1333 0002 9BB2     		uxth	r3, r3
 1334              	.LVL79:
1042:LIB/src/stm32f10x_i2c.c ****   flag2 = I2Cx->SR2;
 1335              		.loc 1 1042 3 is_stmt 1 view .LVU369
 1336              		.loc 1 1042 15 is_stmt 0 view .LVU370
 1337 0004 028B     		ldrh	r2, [r0, #24]
 1338              	.LVL80:
1043:LIB/src/stm32f10x_i2c.c ****   flag2 = flag2 << 16;
 1339              		.loc 1 1043 3 is_stmt 1 view .LVU371
1044:LIB/src/stm32f10x_i2c.c **** 
1045:LIB/src/stm32f10x_i2c.c ****   /* Get the last event value from I2C status register */
1046:LIB/src/stm32f10x_i2c.c ****   lastevent = (flag1 | flag2) & FLAG_Mask;
 1340              		.loc 1 1046 3 view .LVU372
 1341              		.loc 1 1046 22 is_stmt 0 view .LVU373
 1342 0006 43EA0243 		orr	r3, r3, r2, lsl #16
 1343              	.LVL81:
 1344              		.loc 1 1046 13 view .LVU374
 1345 000a 23F07F43 		bic	r3, r3, #-16777216
 1346              	.LVL82:
1047:LIB/src/stm32f10x_i2c.c **** 
1048:LIB/src/stm32f10x_i2c.c ****   /* Check whether the last event contains the I2C_EVENT */
1049:LIB/src/stm32f10x_i2c.c ****   if ((lastevent & I2C_EVENT) == I2C_EVENT)
 1347              		.loc 1 1049 3 is_stmt 1 view .LVU375
 1348              		.loc 1 1049 6 is_stmt 0 view .LVU376
 1349 000e 31EA0303 		bics	r3, r1, r3
 1350              	.LVL83:
 1351              		.loc 1 1049 6 view .LVU377
 1352 0012 01D0     		beq	.L90
1050:LIB/src/stm32f10x_i2c.c ****   {
1051:LIB/src/stm32f10x_i2c.c ****     /* SUCCESS: last event is equal to I2C_EVENT */
1052:LIB/src/stm32f10x_i2c.c ****     status = SUCCESS;
1053:LIB/src/stm32f10x_i2c.c ****   }
1054:LIB/src/stm32f10x_i2c.c ****   else
1055:LIB/src/stm32f10x_i2c.c ****   {
1056:LIB/src/stm32f10x_i2c.c ****     /* ERROR: last event is different from I2C_EVENT */
1057:LIB/src/stm32f10x_i2c.c ****     status = ERROR;
 1353              		.loc 1 1057 12 view .LVU378
 1354 0014 0020     		movs	r0, #0
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 43


 1355              	.LVL84:
1058:LIB/src/stm32f10x_i2c.c ****   }
1059:LIB/src/stm32f10x_i2c.c ****   /* Return status */
1060:LIB/src/stm32f10x_i2c.c ****   return status;
 1356              		.loc 1 1060 3 is_stmt 1 view .LVU379
1061:LIB/src/stm32f10x_i2c.c **** }
 1357              		.loc 1 1061 1 is_stmt 0 view .LVU380
 1358 0016 7047     		bx	lr
 1359              	.LVL85:
 1360              	.L90:
1052:LIB/src/stm32f10x_i2c.c ****   }
 1361              		.loc 1 1052 12 view .LVU381
 1362 0018 0120     		movs	r0, #1
 1363              	.LVL86:
1052:LIB/src/stm32f10x_i2c.c ****   }
 1364              		.loc 1 1052 12 view .LVU382
 1365 001a 7047     		bx	lr
 1366              		.cfi_endproc
 1367              	.LFE56:
 1369              		.section	.text.I2C_GetLastEvent,"ax",%progbits
 1370              		.align	1
 1371              		.global	I2C_GetLastEvent
 1372              		.syntax unified
 1373              		.thumb
 1374              		.thumb_func
 1376              	I2C_GetLastEvent:
 1377              	.LVL87:
 1378              	.LFB57:
1062:LIB/src/stm32f10x_i2c.c **** 
1063:LIB/src/stm32f10x_i2c.c **** /**
1064:LIB/src/stm32f10x_i2c.c ****  * 
1065:LIB/src/stm32f10x_i2c.c ****  *  2) Advanced state monitoring
1066:LIB/src/stm32f10x_i2c.c ****  *******************************************************************************
1067:LIB/src/stm32f10x_i2c.c ****  */
1068:LIB/src/stm32f10x_i2c.c **** 
1069:LIB/src/stm32f10x_i2c.c **** /**
1070:LIB/src/stm32f10x_i2c.c ****   * @brief  Returns the last I2Cx Event.
1071:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
1072:LIB/src/stm32f10x_i2c.c ****   *     
1073:LIB/src/stm32f10x_i2c.c ****   * @note: For detailed description of Events, please refer to section 
1074:LIB/src/stm32f10x_i2c.c ****   *    I2C_Events in stm32f10x_i2c.h file.
1075:LIB/src/stm32f10x_i2c.c ****   *    
1076:LIB/src/stm32f10x_i2c.c ****   * @retval The last event
1077:LIB/src/stm32f10x_i2c.c ****   */
1078:LIB/src/stm32f10x_i2c.c **** uint32_t I2C_GetLastEvent(I2C_TypeDef* I2Cx)
1079:LIB/src/stm32f10x_i2c.c **** {
 1379              		.loc 1 1079 1 is_stmt 1 view -0
 1380              		.cfi_startproc
 1381              		@ args = 0, pretend = 0, frame = 0
 1382              		@ frame_needed = 0, uses_anonymous_args = 0
 1383              		@ link register save eliminated.
1080:LIB/src/stm32f10x_i2c.c ****   uint32_t lastevent = 0;
 1384              		.loc 1 1080 3 view .LVU384
1081:LIB/src/stm32f10x_i2c.c ****   uint32_t flag1 = 0, flag2 = 0;
 1385              		.loc 1 1081 3 view .LVU385
1082:LIB/src/stm32f10x_i2c.c **** 
1083:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 44


1084:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 1386              		.loc 1 1084 3 view .LVU386
1085:LIB/src/stm32f10x_i2c.c **** 
1086:LIB/src/stm32f10x_i2c.c ****   /* Read the I2Cx status register */
1087:LIB/src/stm32f10x_i2c.c ****   flag1 = I2Cx->SR1;
 1387              		.loc 1 1087 3 view .LVU387
 1388              		.loc 1 1087 15 is_stmt 0 view .LVU388
 1389 0000 838A     		ldrh	r3, [r0, #20]
 1390 0002 9BB2     		uxth	r3, r3
 1391              	.LVL88:
1088:LIB/src/stm32f10x_i2c.c ****   flag2 = I2Cx->SR2;
 1392              		.loc 1 1088 3 is_stmt 1 view .LVU389
 1393              		.loc 1 1088 15 is_stmt 0 view .LVU390
 1394 0004 008B     		ldrh	r0, [r0, #24]
 1395              	.LVL89:
1089:LIB/src/stm32f10x_i2c.c ****   flag2 = flag2 << 16;
 1396              		.loc 1 1089 3 is_stmt 1 view .LVU391
1090:LIB/src/stm32f10x_i2c.c **** 
1091:LIB/src/stm32f10x_i2c.c ****   /* Get the last event value from I2C status register */
1092:LIB/src/stm32f10x_i2c.c ****   lastevent = (flag1 | flag2) & FLAG_Mask;
 1397              		.loc 1 1092 3 view .LVU392
 1398              		.loc 1 1092 22 is_stmt 0 view .LVU393
 1399 0006 43EA0040 		orr	r0, r3, r0, lsl #16
 1400              	.LVL90:
1093:LIB/src/stm32f10x_i2c.c **** 
1094:LIB/src/stm32f10x_i2c.c ****   /* Return status */
1095:LIB/src/stm32f10x_i2c.c ****   return lastevent;
 1401              		.loc 1 1095 3 is_stmt 1 view .LVU394
1096:LIB/src/stm32f10x_i2c.c **** }
 1402              		.loc 1 1096 1 is_stmt 0 view .LVU395
 1403 000a 20F07F40 		bic	r0, r0, #-16777216
 1404              	.LVL91:
 1405              		.loc 1 1096 1 view .LVU396
 1406 000e 7047     		bx	lr
 1407              		.cfi_endproc
 1408              	.LFE57:
 1410              		.section	.text.I2C_GetFlagStatus,"ax",%progbits
 1411              		.align	1
 1412              		.global	I2C_GetFlagStatus
 1413              		.syntax unified
 1414              		.thumb
 1415              		.thumb_func
 1417              	I2C_GetFlagStatus:
 1418              	.LVL92:
 1419              	.LFB58:
1097:LIB/src/stm32f10x_i2c.c **** 
1098:LIB/src/stm32f10x_i2c.c **** /**
1099:LIB/src/stm32f10x_i2c.c ****  * 
1100:LIB/src/stm32f10x_i2c.c ****  *  3) Flag-based state monitoring
1101:LIB/src/stm32f10x_i2c.c ****  *******************************************************************************
1102:LIB/src/stm32f10x_i2c.c ****  */
1103:LIB/src/stm32f10x_i2c.c **** 
1104:LIB/src/stm32f10x_i2c.c **** /**
1105:LIB/src/stm32f10x_i2c.c ****   * @brief  Checks whether the specified I2C flag is set or not.
1106:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
1107:LIB/src/stm32f10x_i2c.c ****   * @param  I2C_FLAG: specifies the flag to check. 
1108:LIB/src/stm32f10x_i2c.c ****   *   This parameter can be one of the following values:
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 45


1109:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_DUALF: Dual flag (Slave mode)
1110:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_SMBHOST: SMBus host header (Slave mode)
1111:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_SMBDEFAULT: SMBus default header (Slave mode)
1112:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_GENCALL: General call header flag (Slave mode)
1113:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_TRA: Transmitter/Receiver flag
1114:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_BUSY: Bus busy flag
1115:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_MSL: Master/Slave flag
1116:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_SMBALERT: SMBus Alert flag
1117:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_TIMEOUT: Timeout or Tlow error flag
1118:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_PECERR: PEC error in reception flag
1119:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_OVR: Overrun/Underrun flag (Slave mode)
1120:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_AF: Acknowledge failure flag
1121:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_ARLO: Arbitration lost flag (Master mode)
1122:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_BERR: Bus error flag
1123:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_TXE: Data register empty flag (Transmitter)
1124:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_RXNE: Data register not empty (Receiver) flag
1125:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_STOPF: Stop detection flag (Slave mode)
1126:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_ADD10: 10-bit header sent flag (Master mode)
1127:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_BTF: Byte transfer finished flag
1128:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_ADDR: Address sent flag (Master mode) "ADSL"
1129:LIB/src/stm32f10x_i2c.c ****   *   Address matched flag (Slave mode)"ENDA"
1130:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_SB: Start bit flag (Master mode)
1131:LIB/src/stm32f10x_i2c.c ****   * @retval The new state of I2C_FLAG (SET or RESET).
1132:LIB/src/stm32f10x_i2c.c ****   */
1133:LIB/src/stm32f10x_i2c.c **** FlagStatus I2C_GetFlagStatus(I2C_TypeDef* I2Cx, uint32_t I2C_FLAG)
1134:LIB/src/stm32f10x_i2c.c **** {
 1420              		.loc 1 1134 1 is_stmt 1 view -0
 1421              		.cfi_startproc
 1422              		@ args = 0, pretend = 0, frame = 8
 1423              		@ frame_needed = 0, uses_anonymous_args = 0
 1424              		@ link register save eliminated.
 1425              		.loc 1 1134 1 is_stmt 0 view .LVU398
 1426 0000 82B0     		sub	sp, sp, #8
 1427              	.LCFI7:
 1428              		.cfi_def_cfa_offset 8
1135:LIB/src/stm32f10x_i2c.c ****   FlagStatus bitstatus = RESET;
 1429              		.loc 1 1135 3 is_stmt 1 view .LVU399
 1430              	.LVL93:
1136:LIB/src/stm32f10x_i2c.c ****   __IO uint32_t i2creg = 0, i2cxbase = 0;
 1431              		.loc 1 1136 3 view .LVU400
 1432              		.loc 1 1136 17 is_stmt 0 view .LVU401
 1433 0002 0023     		movs	r3, #0
 1434 0004 0193     		str	r3, [sp, #4]
 1435              		.loc 1 1136 29 view .LVU402
 1436 0006 0093     		str	r3, [sp]
1137:LIB/src/stm32f10x_i2c.c **** 
1138:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
1139:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 1437              		.loc 1 1139 3 is_stmt 1 view .LVU403
1140:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_GET_FLAG(I2C_FLAG));
 1438              		.loc 1 1140 3 view .LVU404
1141:LIB/src/stm32f10x_i2c.c **** 
1142:LIB/src/stm32f10x_i2c.c ****   /* Get the I2Cx peripheral base address */
1143:LIB/src/stm32f10x_i2c.c ****   i2cxbase = (uint32_t)I2Cx;
 1439              		.loc 1 1143 3 view .LVU405
 1440              		.loc 1 1143 12 is_stmt 0 view .LVU406
 1441 0008 0090     		str	r0, [sp]
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 46


1144:LIB/src/stm32f10x_i2c.c ****   
1145:LIB/src/stm32f10x_i2c.c ****   /* Read flag register index */
1146:LIB/src/stm32f10x_i2c.c ****   i2creg = I2C_FLAG >> 28;
 1442              		.loc 1 1146 3 is_stmt 1 view .LVU407
 1443              		.loc 1 1146 21 is_stmt 0 view .LVU408
 1444 000a 0B0F     		lsrs	r3, r1, #28
 1445              		.loc 1 1146 10 view .LVU409
 1446 000c 0193     		str	r3, [sp, #4]
1147:LIB/src/stm32f10x_i2c.c ****   
1148:LIB/src/stm32f10x_i2c.c ****   /* Get bit[23:0] of the flag */
1149:LIB/src/stm32f10x_i2c.c ****   I2C_FLAG &= FLAG_Mask;
 1447              		.loc 1 1149 3 is_stmt 1 view .LVU410
 1448              		.loc 1 1149 12 is_stmt 0 view .LVU411
 1449 000e 21F07F41 		bic	r1, r1, #-16777216
 1450              	.LVL94:
1150:LIB/src/stm32f10x_i2c.c ****   
1151:LIB/src/stm32f10x_i2c.c ****   if(i2creg != 0)
 1451              		.loc 1 1151 3 is_stmt 1 view .LVU412
 1452              		.loc 1 1151 13 is_stmt 0 view .LVU413
 1453 0012 019B     		ldr	r3, [sp, #4]
 1454              		.loc 1 1151 5 view .LVU414
 1455 0014 4BB1     		cbz	r3, .L93
1152:LIB/src/stm32f10x_i2c.c ****   {
1153:LIB/src/stm32f10x_i2c.c ****     /* Get the I2Cx SR1 register address */
1154:LIB/src/stm32f10x_i2c.c ****     i2cxbase += 0x14;
 1456              		.loc 1 1154 5 is_stmt 1 view .LVU415
 1457              		.loc 1 1154 14 is_stmt 0 view .LVU416
 1458 0016 009B     		ldr	r3, [sp]
 1459 0018 1433     		adds	r3, r3, #20
 1460 001a 0093     		str	r3, [sp]
 1461              	.L94:
1155:LIB/src/stm32f10x_i2c.c ****   }
1156:LIB/src/stm32f10x_i2c.c ****   else
1157:LIB/src/stm32f10x_i2c.c ****   {
1158:LIB/src/stm32f10x_i2c.c ****     /* Flag in I2Cx SR2 Register */
1159:LIB/src/stm32f10x_i2c.c ****     I2C_FLAG = (uint32_t)(I2C_FLAG >> 16);
1160:LIB/src/stm32f10x_i2c.c ****     /* Get the I2Cx SR2 register address */
1161:LIB/src/stm32f10x_i2c.c ****     i2cxbase += 0x18;
1162:LIB/src/stm32f10x_i2c.c ****   }
1163:LIB/src/stm32f10x_i2c.c ****   
1164:LIB/src/stm32f10x_i2c.c ****   if(((*(__IO uint32_t *)i2cxbase) & I2C_FLAG) != (uint32_t)RESET)
 1462              		.loc 1 1164 3 is_stmt 1 view .LVU417
 1463              		.loc 1 1164 9 is_stmt 0 view .LVU418
 1464 001c 009B     		ldr	r3, [sp]
 1465              		.loc 1 1164 8 view .LVU419
 1466 001e 1B68     		ldr	r3, [r3]
 1467              		.loc 1 1164 5 view .LVU420
 1468 0020 0B42     		tst	r3, r1
 1469 0022 07D0     		beq	.L96
1165:LIB/src/stm32f10x_i2c.c ****   {
1166:LIB/src/stm32f10x_i2c.c ****     /* I2C_FLAG is set */
1167:LIB/src/stm32f10x_i2c.c ****     bitstatus = SET;
 1470              		.loc 1 1167 15 view .LVU421
 1471 0024 0120     		movs	r0, #1
 1472              	.LVL95:
 1473              	.L95:
1168:LIB/src/stm32f10x_i2c.c ****   }
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 47


1169:LIB/src/stm32f10x_i2c.c ****   else
1170:LIB/src/stm32f10x_i2c.c ****   {
1171:LIB/src/stm32f10x_i2c.c ****     /* I2C_FLAG is reset */
1172:LIB/src/stm32f10x_i2c.c ****     bitstatus = RESET;
1173:LIB/src/stm32f10x_i2c.c ****   }
1174:LIB/src/stm32f10x_i2c.c ****   
1175:LIB/src/stm32f10x_i2c.c ****   /* Return the I2C_FLAG status */
1176:LIB/src/stm32f10x_i2c.c ****   return  bitstatus;
 1474              		.loc 1 1176 3 is_stmt 1 view .LVU422
1177:LIB/src/stm32f10x_i2c.c **** }
 1475              		.loc 1 1177 1 is_stmt 0 view .LVU423
 1476 0026 02B0     		add	sp, sp, #8
 1477              	.LCFI8:
 1478              		.cfi_remember_state
 1479              		.cfi_def_cfa_offset 0
 1480              		@ sp needed
 1481 0028 7047     		bx	lr
 1482              	.LVL96:
 1483              	.L93:
 1484              	.LCFI9:
 1485              		.cfi_restore_state
1159:LIB/src/stm32f10x_i2c.c ****     /* Get the I2Cx SR2 register address */
 1486              		.loc 1 1159 5 is_stmt 1 view .LVU424
1159:LIB/src/stm32f10x_i2c.c ****     /* Get the I2Cx SR2 register address */
 1487              		.loc 1 1159 14 is_stmt 0 view .LVU425
 1488 002a 090C     		lsrs	r1, r1, #16
 1489              	.LVL97:
1161:LIB/src/stm32f10x_i2c.c ****   }
 1490              		.loc 1 1161 5 is_stmt 1 view .LVU426
1161:LIB/src/stm32f10x_i2c.c ****   }
 1491              		.loc 1 1161 14 is_stmt 0 view .LVU427
 1492 002c 009B     		ldr	r3, [sp]
 1493 002e 1833     		adds	r3, r3, #24
 1494 0030 0093     		str	r3, [sp]
 1495 0032 F3E7     		b	.L94
 1496              	.L96:
1172:LIB/src/stm32f10x_i2c.c ****   }
 1497              		.loc 1 1172 15 view .LVU428
 1498 0034 0020     		movs	r0, #0
 1499              	.LVL98:
1172:LIB/src/stm32f10x_i2c.c ****   }
 1500              		.loc 1 1172 15 view .LVU429
 1501 0036 F6E7     		b	.L95
 1502              		.cfi_endproc
 1503              	.LFE58:
 1505              		.section	.text.I2C_ClearFlag,"ax",%progbits
 1506              		.align	1
 1507              		.global	I2C_ClearFlag
 1508              		.syntax unified
 1509              		.thumb
 1510              		.thumb_func
 1512              	I2C_ClearFlag:
 1513              	.LVL99:
 1514              	.LFB59:
1178:LIB/src/stm32f10x_i2c.c **** 
1179:LIB/src/stm32f10x_i2c.c **** 
1180:LIB/src/stm32f10x_i2c.c **** 
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 48


1181:LIB/src/stm32f10x_i2c.c **** /**
1182:LIB/src/stm32f10x_i2c.c ****   * @brief  Clears the I2Cx's pending flags.
1183:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
1184:LIB/src/stm32f10x_i2c.c ****   * @param  I2C_FLAG: specifies the flag to clear. 
1185:LIB/src/stm32f10x_i2c.c ****   *   This parameter can be any combination of the following values:
1186:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_SMBALERT: SMBus Alert flag
1187:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_TIMEOUT: Timeout or Tlow error flag
1188:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_PECERR: PEC error in reception flag
1189:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_OVR: Overrun/Underrun flag (Slave mode)
1190:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_AF: Acknowledge failure flag
1191:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_ARLO: Arbitration lost flag (Master mode)
1192:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_BERR: Bus error flag
1193:LIB/src/stm32f10x_i2c.c ****   *   
1194:LIB/src/stm32f10x_i2c.c ****   * @note
1195:LIB/src/stm32f10x_i2c.c ****   *   - STOPF (STOP detection) is cleared by software sequence: a read operation 
1196:LIB/src/stm32f10x_i2c.c ****   *     to I2C_SR1 register (I2C_GetFlagStatus()) followed by a write operation 
1197:LIB/src/stm32f10x_i2c.c ****   *     to I2C_CR1 register (I2C_Cmd() to re-enable the I2C peripheral).
1198:LIB/src/stm32f10x_i2c.c ****   *   - ADD10 (10-bit header sent) is cleared by software sequence: a read 
1199:LIB/src/stm32f10x_i2c.c ****   *     operation to I2C_SR1 (I2C_GetFlagStatus()) followed by writing the 
1200:LIB/src/stm32f10x_i2c.c ****   *     second byte of the address in DR register.
1201:LIB/src/stm32f10x_i2c.c ****   *   - BTF (Byte Transfer Finished) is cleared by software sequence: a read 
1202:LIB/src/stm32f10x_i2c.c ****   *     operation to I2C_SR1 register (I2C_GetFlagStatus()) followed by a 
1203:LIB/src/stm32f10x_i2c.c ****   *     read/write to I2C_DR register (I2C_SendData()).
1204:LIB/src/stm32f10x_i2c.c ****   *   - ADDR (Address sent) is cleared by software sequence: a read operation to 
1205:LIB/src/stm32f10x_i2c.c ****   *     I2C_SR1 register (I2C_GetFlagStatus()) followed by a read operation to 
1206:LIB/src/stm32f10x_i2c.c ****   *     I2C_SR2 register ((void)(I2Cx->SR2)).
1207:LIB/src/stm32f10x_i2c.c ****   *   - SB (Start Bit) is cleared software sequence: a read operation to I2C_SR1
1208:LIB/src/stm32f10x_i2c.c ****   *     register (I2C_GetFlagStatus()) followed by a write operation to I2C_DR
1209:LIB/src/stm32f10x_i2c.c ****   *     register  (I2C_SendData()).
1210:LIB/src/stm32f10x_i2c.c ****   * @retval None
1211:LIB/src/stm32f10x_i2c.c ****   */
1212:LIB/src/stm32f10x_i2c.c **** void I2C_ClearFlag(I2C_TypeDef* I2Cx, uint32_t I2C_FLAG)
1213:LIB/src/stm32f10x_i2c.c **** {
 1515              		.loc 1 1213 1 is_stmt 1 view -0
 1516              		.cfi_startproc
 1517              		@ args = 0, pretend = 0, frame = 0
 1518              		@ frame_needed = 0, uses_anonymous_args = 0
 1519              		@ link register save eliminated.
1214:LIB/src/stm32f10x_i2c.c ****   uint32_t flagpos = 0;
 1520              		.loc 1 1214 3 view .LVU431
1215:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
1216:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 1521              		.loc 1 1216 3 view .LVU432
1217:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_CLEAR_FLAG(I2C_FLAG));
 1522              		.loc 1 1217 3 view .LVU433
1218:LIB/src/stm32f10x_i2c.c ****   /* Get the I2C flag position */
1219:LIB/src/stm32f10x_i2c.c ****   flagpos = I2C_FLAG & FLAG_Mask;
 1523              		.loc 1 1219 3 view .LVU434
 1524              		.loc 1 1219 11 is_stmt 0 view .LVU435
 1525 0000 21F07F41 		bic	r1, r1, #-16777216
 1526              	.LVL100:
1220:LIB/src/stm32f10x_i2c.c ****   /* Clear the selected I2C flag */
1221:LIB/src/stm32f10x_i2c.c ****   I2Cx->SR1 = (uint16_t)~flagpos;
 1527              		.loc 1 1221 3 is_stmt 1 view .LVU436
 1528              		.loc 1 1221 15 is_stmt 0 view .LVU437
 1529 0004 C943     		mvns	r1, r1
 1530              	.LVL101:
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 49


 1531              		.loc 1 1221 15 view .LVU438
 1532 0006 89B2     		uxth	r1, r1
 1533              	.LVL102:
 1534              		.loc 1 1221 13 view .LVU439
 1535 0008 8182     		strh	r1, [r0, #20]	@ movhi
1222:LIB/src/stm32f10x_i2c.c **** }
 1536              		.loc 1 1222 1 view .LVU440
 1537 000a 7047     		bx	lr
 1538              		.cfi_endproc
 1539              	.LFE59:
 1541              		.section	.text.I2C_GetITStatus,"ax",%progbits
 1542              		.align	1
 1543              		.global	I2C_GetITStatus
 1544              		.syntax unified
 1545              		.thumb
 1546              		.thumb_func
 1548              	I2C_GetITStatus:
 1549              	.LVL103:
 1550              	.LFB60:
1223:LIB/src/stm32f10x_i2c.c **** 
1224:LIB/src/stm32f10x_i2c.c **** /**
1225:LIB/src/stm32f10x_i2c.c ****   * @brief  Checks whether the specified I2C interrupt has occurred or not.
1226:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
1227:LIB/src/stm32f10x_i2c.c ****   * @param  I2C_IT: specifies the interrupt source to check. 
1228:LIB/src/stm32f10x_i2c.c ****   *   This parameter can be one of the following values:
1229:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_SMBALERT: SMBus Alert flag
1230:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_TIMEOUT: Timeout or Tlow error flag
1231:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_PECERR: PEC error in reception flag
1232:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_OVR: Overrun/Underrun flag (Slave mode)
1233:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_AF: Acknowledge failure flag
1234:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_ARLO: Arbitration lost flag (Master mode)
1235:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_BERR: Bus error flag
1236:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_TXE: Data register empty flag (Transmitter)
1237:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_RXNE: Data register not empty (Receiver) flag
1238:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_STOPF: Stop detection flag (Slave mode)
1239:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_ADD10: 10-bit header sent flag (Master mode)
1240:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_BTF: Byte transfer finished flag
1241:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_ADDR: Address sent flag (Master mode) "ADSL"
1242:LIB/src/stm32f10x_i2c.c ****   *                       Address matched flag (Slave mode)"ENDAD"
1243:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_SB: Start bit flag (Master mode)
1244:LIB/src/stm32f10x_i2c.c ****   * @retval The new state of I2C_IT (SET or RESET).
1245:LIB/src/stm32f10x_i2c.c ****   */
1246:LIB/src/stm32f10x_i2c.c **** ITStatus I2C_GetITStatus(I2C_TypeDef* I2Cx, uint32_t I2C_IT)
1247:LIB/src/stm32f10x_i2c.c **** {
 1551              		.loc 1 1247 1 is_stmt 1 view -0
 1552              		.cfi_startproc
 1553              		@ args = 0, pretend = 0, frame = 0
 1554              		@ frame_needed = 0, uses_anonymous_args = 0
 1555              		@ link register save eliminated.
1248:LIB/src/stm32f10x_i2c.c ****   ITStatus bitstatus = RESET;
 1556              		.loc 1 1248 3 view .LVU442
1249:LIB/src/stm32f10x_i2c.c ****   uint32_t enablestatus = 0;
 1557              		.loc 1 1249 3 view .LVU443
1250:LIB/src/stm32f10x_i2c.c **** 
1251:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
1252:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 1558              		.loc 1 1252 3 view .LVU444
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 50


1253:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_GET_IT(I2C_IT));
 1559              		.loc 1 1253 3 view .LVU445
1254:LIB/src/stm32f10x_i2c.c **** 
1255:LIB/src/stm32f10x_i2c.c ****   /* Check if the interrupt source is enabled or not */
1256:LIB/src/stm32f10x_i2c.c ****   enablestatus = (uint32_t)(((I2C_IT & ITEN_Mask) >> 16) & (I2Cx->CR2)) ;
 1560              		.loc 1 1256 3 view .LVU446
 1561              		.loc 1 1256 65 is_stmt 0 view .LVU447
 1562 0000 8388     		ldrh	r3, [r0, #4]
 1563              		.loc 1 1256 18 view .LVU448
 1564 0002 03EA1143 		and	r3, r3, r1, lsr #16
 1565              		.loc 1 1256 16 view .LVU449
 1566 0006 03F4E063 		and	r3, r3, #1792
 1567              	.LVL104:
1257:LIB/src/stm32f10x_i2c.c ****   
1258:LIB/src/stm32f10x_i2c.c ****   /* Get bit[23:0] of the flag */
1259:LIB/src/stm32f10x_i2c.c ****   I2C_IT &= FLAG_Mask;
 1568              		.loc 1 1259 3 is_stmt 1 view .LVU450
1260:LIB/src/stm32f10x_i2c.c **** 
1261:LIB/src/stm32f10x_i2c.c ****   /* Check the status of the specified I2C flag */
1262:LIB/src/stm32f10x_i2c.c ****   if (((I2Cx->SR1 & I2C_IT) != (uint32_t)RESET) && enablestatus)
 1569              		.loc 1 1262 3 view .LVU451
 1570              		.loc 1 1262 13 is_stmt 0 view .LVU452
 1571 000a 828A     		ldrh	r2, [r0, #20]
 1572 000c 92B2     		uxth	r2, r2
 1573              		.loc 1 1262 6 view .LVU453
 1574 000e 1142     		tst	r1, r2
 1575 0010 02D0     		beq	.L101
 1576              		.loc 1 1262 49 discriminator 1 view .LVU454
 1577 0012 1BB9     		cbnz	r3, .L102
1263:LIB/src/stm32f10x_i2c.c ****   {
1264:LIB/src/stm32f10x_i2c.c ****     /* I2C_IT is set */
1265:LIB/src/stm32f10x_i2c.c ****     bitstatus = SET;
1266:LIB/src/stm32f10x_i2c.c ****   }
1267:LIB/src/stm32f10x_i2c.c ****   else
1268:LIB/src/stm32f10x_i2c.c ****   {
1269:LIB/src/stm32f10x_i2c.c ****     /* I2C_IT is reset */
1270:LIB/src/stm32f10x_i2c.c ****     bitstatus = RESET;
 1578              		.loc 1 1270 15 view .LVU455
 1579 0014 0020     		movs	r0, #0
 1580              	.LVL105:
 1581              		.loc 1 1270 15 view .LVU456
 1582 0016 7047     		bx	lr
 1583              	.LVL106:
 1584              	.L101:
 1585              		.loc 1 1270 15 view .LVU457
 1586 0018 0020     		movs	r0, #0
 1587              	.LVL107:
 1588              		.loc 1 1270 15 view .LVU458
 1589 001a 7047     		bx	lr
 1590              	.LVL108:
 1591              	.L102:
1265:LIB/src/stm32f10x_i2c.c ****   }
 1592              		.loc 1 1265 15 view .LVU459
 1593 001c 0120     		movs	r0, #1
 1594              	.LVL109:
1271:LIB/src/stm32f10x_i2c.c ****   }
1272:LIB/src/stm32f10x_i2c.c ****   /* Return the I2C_IT status */
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 51


1273:LIB/src/stm32f10x_i2c.c ****   return  bitstatus;
 1595              		.loc 1 1273 3 is_stmt 1 view .LVU460
1274:LIB/src/stm32f10x_i2c.c **** }
 1596              		.loc 1 1274 1 is_stmt 0 view .LVU461
 1597 001e 7047     		bx	lr
 1598              		.cfi_endproc
 1599              	.LFE60:
 1601              		.section	.text.I2C_ClearITPendingBit,"ax",%progbits
 1602              		.align	1
 1603              		.global	I2C_ClearITPendingBit
 1604              		.syntax unified
 1605              		.thumb
 1606              		.thumb_func
 1608              	I2C_ClearITPendingBit:
 1609              	.LVL110:
 1610              	.LFB61:
1275:LIB/src/stm32f10x_i2c.c **** 
1276:LIB/src/stm32f10x_i2c.c **** /**
1277:LIB/src/stm32f10x_i2c.c ****   * @brief  Clears the I2Cxs interrupt pending bits.
1278:LIB/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
1279:LIB/src/stm32f10x_i2c.c ****   * @param  I2C_IT: specifies the interrupt pending bit to clear. 
1280:LIB/src/stm32f10x_i2c.c ****   *   This parameter can be any combination of the following values:
1281:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_SMBALERT: SMBus Alert interrupt
1282:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_TIMEOUT: Timeout or Tlow error interrupt
1283:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_PECERR: PEC error in reception  interrupt
1284:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_OVR: Overrun/Underrun interrupt (Slave mode)
1285:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_AF: Acknowledge failure interrupt
1286:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_ARLO: Arbitration lost interrupt (Master mode)
1287:LIB/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_BERR: Bus error interrupt
1288:LIB/src/stm32f10x_i2c.c ****   *   
1289:LIB/src/stm32f10x_i2c.c ****   * @note
1290:LIB/src/stm32f10x_i2c.c ****   *   - STOPF (STOP detection) is cleared by software sequence: a read operation 
1291:LIB/src/stm32f10x_i2c.c ****   *     to I2C_SR1 register (I2C_GetITStatus()) followed by a write operation to 
1292:LIB/src/stm32f10x_i2c.c ****   *     I2C_CR1 register (I2C_Cmd() to re-enable the I2C peripheral).
1293:LIB/src/stm32f10x_i2c.c ****   *   - ADD10 (10-bit header sent) is cleared by software sequence: a read 
1294:LIB/src/stm32f10x_i2c.c ****   *     operation to I2C_SR1 (I2C_GetITStatus()) followed by writing the second 
1295:LIB/src/stm32f10x_i2c.c ****   *     byte of the address in I2C_DR register.
1296:LIB/src/stm32f10x_i2c.c ****   *   - BTF (Byte Transfer Finished) is cleared by software sequence: a read 
1297:LIB/src/stm32f10x_i2c.c ****   *     operation to I2C_SR1 register (I2C_GetITStatus()) followed by a 
1298:LIB/src/stm32f10x_i2c.c ****   *     read/write to I2C_DR register (I2C_SendData()).
1299:LIB/src/stm32f10x_i2c.c ****   *   - ADDR (Address sent) is cleared by software sequence: a read operation to 
1300:LIB/src/stm32f10x_i2c.c ****   *     I2C_SR1 register (I2C_GetITStatus()) followed by a read operation to 
1301:LIB/src/stm32f10x_i2c.c ****   *     I2C_SR2 register ((void)(I2Cx->SR2)).
1302:LIB/src/stm32f10x_i2c.c ****   *   - SB (Start Bit) is cleared by software sequence: a read operation to 
1303:LIB/src/stm32f10x_i2c.c ****   *     I2C_SR1 register (I2C_GetITStatus()) followed by a write operation to 
1304:LIB/src/stm32f10x_i2c.c ****   *     I2C_DR register (I2C_SendData()).
1305:LIB/src/stm32f10x_i2c.c ****   * @retval None
1306:LIB/src/stm32f10x_i2c.c ****   */
1307:LIB/src/stm32f10x_i2c.c **** void I2C_ClearITPendingBit(I2C_TypeDef* I2Cx, uint32_t I2C_IT)
1308:LIB/src/stm32f10x_i2c.c **** {
 1611              		.loc 1 1308 1 is_stmt 1 view -0
 1612              		.cfi_startproc
 1613              		@ args = 0, pretend = 0, frame = 0
 1614              		@ frame_needed = 0, uses_anonymous_args = 0
 1615              		@ link register save eliminated.
1309:LIB/src/stm32f10x_i2c.c ****   uint32_t flagpos = 0;
 1616              		.loc 1 1309 3 view .LVU463
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 52


1310:LIB/src/stm32f10x_i2c.c ****   /* Check the parameters */
1311:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 1617              		.loc 1 1311 3 view .LVU464
1312:LIB/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_CLEAR_IT(I2C_IT));
 1618              		.loc 1 1312 3 view .LVU465
1313:LIB/src/stm32f10x_i2c.c ****   /* Get the I2C flag position */
1314:LIB/src/stm32f10x_i2c.c ****   flagpos = I2C_IT & FLAG_Mask;
 1619              		.loc 1 1314 3 view .LVU466
 1620              		.loc 1 1314 11 is_stmt 0 view .LVU467
 1621 0000 21F07F41 		bic	r1, r1, #-16777216
 1622              	.LVL111:
1315:LIB/src/stm32f10x_i2c.c ****   /* Clear the selected I2C flag */
1316:LIB/src/stm32f10x_i2c.c ****   I2Cx->SR1 = (uint16_t)~flagpos;
 1623              		.loc 1 1316 3 is_stmt 1 view .LVU468
 1624              		.loc 1 1316 15 is_stmt 0 view .LVU469
 1625 0004 C943     		mvns	r1, r1
 1626              	.LVL112:
 1627              		.loc 1 1316 15 view .LVU470
 1628 0006 89B2     		uxth	r1, r1
 1629              	.LVL113:
 1630              		.loc 1 1316 13 view .LVU471
 1631 0008 8182     		strh	r1, [r0, #20]	@ movhi
1317:LIB/src/stm32f10x_i2c.c **** }
 1632              		.loc 1 1317 1 view .LVU472
 1633 000a 7047     		bx	lr
 1634              		.cfi_endproc
 1635              	.LFE61:
 1637              		.text
 1638              	.Letext0:
 1639              		.file 2 "c:\\develop\\gcc-arm-none-eabi\\arm-none-eabi\\include\\machine\\_default_types.h"
 1640              		.file 3 "c:\\develop\\gcc-arm-none-eabi\\arm-none-eabi\\include\\sys\\_stdint.h"
 1641              		.file 4 "CMSIS/stm32f10x.h"
 1642              		.file 5 "LIB/inc/stm32f10x_rcc.h"
 1643              		.file 6 "LIB/inc/stm32f10x_i2c.h"
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 53


DEFINED SYMBOLS
                            *ABS*:00000000 stm32f10x_i2c.c
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:18     .text.I2C_DeInit:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:24     .text.I2C_DeInit:00000000 I2C_DeInit
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:77     .text.I2C_DeInit:00000034 $d
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:82     .text.I2C_Init:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:88     .text.I2C_Init:00000000 I2C_Init
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:319    .text.I2C_Init:000000d0 $d
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:326    .text.I2C_StructInit:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:332    .text.I2C_StructInit:00000000 I2C_StructInit
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:368    .text.I2C_Cmd:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:374    .text.I2C_Cmd:00000000 I2C_Cmd
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:408    .text.I2C_DMACmd:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:414    .text.I2C_DMACmd:00000000 I2C_DMACmd
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:448    .text.I2C_DMALastTransferCmd:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:454    .text.I2C_DMALastTransferCmd:00000000 I2C_DMALastTransferCmd
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:488    .text.I2C_GenerateSTART:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:494    .text.I2C_GenerateSTART:00000000 I2C_GenerateSTART
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:528    .text.I2C_GenerateSTOP:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:534    .text.I2C_GenerateSTOP:00000000 I2C_GenerateSTOP
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:568    .text.I2C_AcknowledgeConfig:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:574    .text.I2C_AcknowledgeConfig:00000000 I2C_AcknowledgeConfig
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:608    .text.I2C_OwnAddress2Config:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:614    .text.I2C_OwnAddress2Config:00000000 I2C_OwnAddress2Config
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:649    .text.I2C_DualAddressCmd:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:655    .text.I2C_DualAddressCmd:00000000 I2C_DualAddressCmd
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:689    .text.I2C_GeneralCallCmd:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:695    .text.I2C_GeneralCallCmd:00000000 I2C_GeneralCallCmd
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:729    .text.I2C_ITConfig:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:735    .text.I2C_ITConfig:00000000 I2C_ITConfig
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:777    .text.I2C_SendData:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:783    .text.I2C_SendData:00000000 I2C_SendData
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:801    .text.I2C_ReceiveData:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:807    .text.I2C_ReceiveData:00000000 I2C_ReceiveData
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:827    .text.I2C_Send7bitAddress:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:833    .text.I2C_Send7bitAddress:00000000 I2C_Send7bitAddress
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:871    .text.I2C_ReadRegister:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:877    .text.I2C_ReadRegister:00000000 I2C_ReadRegister
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:922    .text.I2C_SoftwareResetCmd:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:928    .text.I2C_SoftwareResetCmd:00000000 I2C_SoftwareResetCmd
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:961    .text.I2C_NACKPositionConfig:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:967    .text.I2C_NACKPositionConfig:00000000 I2C_NACKPositionConfig
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:1002   .text.I2C_SMBusAlertConfig:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:1008   .text.I2C_SMBusAlertConfig:00000000 I2C_SMBusAlertConfig
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:1043   .text.I2C_TransmitPEC:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:1049   .text.I2C_TransmitPEC:00000000 I2C_TransmitPEC
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:1083   .text.I2C_PECPositionConfig:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:1089   .text.I2C_PECPositionConfig:00000000 I2C_PECPositionConfig
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:1124   .text.I2C_CalculatePEC:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:1130   .text.I2C_CalculatePEC:00000000 I2C_CalculatePEC
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:1164   .text.I2C_GetPEC:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:1170   .text.I2C_GetPEC:00000000 I2C_GetPEC
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:1190   .text.I2C_ARPCmd:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:1196   .text.I2C_ARPCmd:00000000 I2C_ARPCmd
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:1230   .text.I2C_StretchClockCmd:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:1236   .text.I2C_StretchClockCmd:00000000 I2C_StretchClockCmd
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:1270   .text.I2C_FastModeDutyCycleConfig:00000000 $t
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s 			page 54


C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:1276   .text.I2C_FastModeDutyCycleConfig:00000000 I2C_FastModeDutyCycleConfig
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:1311   .text.I2C_CheckEvent:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:1317   .text.I2C_CheckEvent:00000000 I2C_CheckEvent
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:1370   .text.I2C_GetLastEvent:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:1376   .text.I2C_GetLastEvent:00000000 I2C_GetLastEvent
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:1411   .text.I2C_GetFlagStatus:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:1417   .text.I2C_GetFlagStatus:00000000 I2C_GetFlagStatus
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:1506   .text.I2C_ClearFlag:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:1512   .text.I2C_ClearFlag:00000000 I2C_ClearFlag
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:1542   .text.I2C_GetITStatus:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:1548   .text.I2C_GetITStatus:00000000 I2C_GetITStatus
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:1602   .text.I2C_ClearITPendingBit:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc6e8vYb.s:1608   .text.I2C_ClearITPendingBit:00000000 I2C_ClearITPendingBit

UNDEFINED SYMBOLS
RCC_APB1PeriphResetCmd
RCC_GetClocksFreq
